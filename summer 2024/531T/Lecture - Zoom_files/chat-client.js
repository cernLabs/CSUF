(function(){var on;"use strict";var ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ce={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ie,function(){var n=1e3,r=6e4,o=36e5,s="millisecond",i="second",a="minute",c="hour",u="day",l="week",d="month",f="quarter",h="year",S="date",M="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var y=["th","st","nd","rd"],m=v%100;return"["+v+(y[(m-20)%10]||y[m]||y[0])+"]"}},j=function(v,y,m){var b=String(v);return!b||b.length>=y?v:""+Array(y+1-b.length).join(m)+v},J={s:j,z:function(v){var y=-v.utcOffset(),m=Math.abs(y),b=Math.floor(m/60),p=m%60;return(y<=0?"+":"-")+j(b,2,"0")+":"+j(p,2,"0")},m:function v(y,m){if(y.date()<m.date())return-v(m,y);var b=12*(m.year()-y.year())+(m.month()-y.month()),p=y.clone().add(b,d),O=m-p<0,E=y.clone().add(b+(O?-1:1),d);return+(-(b+(m-p)/(O?p-E:E-p))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:d,y:h,w:l,d:u,D:S,h:c,m:a,s:i,ms:s,Q:f}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},N="en",$={};$[N]=C;var w="$isDayjsObject",g=function(v){return v instanceof B||!(!v||!v[w])},D=function v(y,m,b){var p;if(!y)return N;if(typeof y=="string"){var O=y.toLowerCase();$[O]&&(p=O),m&&($[O]=m,p=O);var E=y.split("-");if(!p&&E.length>1)return v(E[0])}else{var A=y.name;$[A]=y,p=A}return!b&&p&&(N=p),p||!b&&N},P=function(v,y){if(g(v))return v.clone();var m=typeof y=="object"?y:{};return m.date=v,m.args=arguments,new B(m)},_=J;_.l=D,_.i=g,_.w=function(v,y){return P(v,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var B=function(){function v(m){this.$L=D(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[w]=!0}var y=v.prototype;return y.parse=function(m){this.$d=function(b){var p=b.date,O=b.utc;if(p===null)return new Date(NaN);if(_.u(p))return new Date;if(p instanceof Date)return new Date(p);if(typeof p=="string"&&!/Z$/i.test(p)){var E=p.match(I);if(E){var A=E[2]-1||0,R=(E[7]||"0").substring(0,3);return O?new Date(Date.UTC(E[1],A,E[3]||1,E[4]||0,E[5]||0,E[6]||0,R)):new Date(E[1],A,E[3]||1,E[4]||0,E[5]||0,E[6]||0,R)}}return new Date(p)}(m),this.init()},y.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},y.$utils=function(){return _},y.isValid=function(){return this.$d.toString()!==M},y.isSame=function(m,b){var p=P(m);return this.startOf(b)<=p&&p<=this.endOf(b)},y.isAfter=function(m,b){return P(m)<this.startOf(b)},y.isBefore=function(m,b){return this.endOf(b)<P(m)},y.$g=function(m,b,p){return _.u(m)?this[b]:this.set(p,m)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(m,b){var p=this,O=!!_.u(b)||b,E=_.p(m),A=function(ut,H){var rt=_.w(p.$u?Date.UTC(p.$y,H,ut):new Date(p.$y,H,ut),p);return O?rt:rt.endOf(u)},R=function(ut,H){return _.w(p.toDate()[ut].apply(p.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(H)),p)},x=this.$W,G=this.$M,K=this.$D,pt="set"+(this.$u?"UTC":"");switch(E){case h:return O?A(1,0):A(31,11);case d:return O?A(1,G):A(0,G+1);case l:var ct=this.$locale().weekStart||0,bt=(x<ct?x+7:x)-ct;return A(O?K-bt:K+(6-bt),G);case u:case S:return R(pt+"Hours",0);case c:return R(pt+"Minutes",1);case a:return R(pt+"Seconds",2);case i:return R(pt+"Milliseconds",3);default:return this.clone()}},y.endOf=function(m){return this.startOf(m,!1)},y.$set=function(m,b){var p,O=_.p(m),E="set"+(this.$u?"UTC":""),A=(p={},p[u]=E+"Date",p[S]=E+"Date",p[d]=E+"Month",p[h]=E+"FullYear",p[c]=E+"Hours",p[a]=E+"Minutes",p[i]=E+"Seconds",p[s]=E+"Milliseconds",p)[O],R=O===u?this.$D+(b-this.$W):b;if(O===d||O===h){var x=this.clone().set(S,1);x.$d[A](R),x.init(),this.$d=x.set(S,Math.min(this.$D,x.daysInMonth())).$d}else A&&this.$d[A](R);return this.init(),this},y.set=function(m,b){return this.clone().$set(m,b)},y.get=function(m){return this[_.p(m)]()},y.add=function(m,b){var p,O=this;m=Number(m);var E=_.p(b),A=function(G){var K=P(O);return _.w(K.date(K.date()+Math.round(G*m)),O)};if(E===d)return this.set(d,this.$M+m);if(E===h)return this.set(h,this.$y+m);if(E===u)return A(1);if(E===l)return A(7);var R=(p={},p[a]=r,p[c]=o,p[i]=n,p)[E]||1,x=this.$d.getTime()+m*R;return _.w(x,this)},y.subtract=function(m,b){return this.add(-1*m,b)},y.format=function(m){var b=this,p=this.$locale();if(!this.isValid())return p.invalidDate||M;var O=m||"YYYY-MM-DDTHH:mm:ssZ",E=_.z(this),A=this.$H,R=this.$m,x=this.$M,G=p.weekdays,K=p.months,pt=p.meridiem,ct=function(H,rt,St,jt){return H&&(H[rt]||H(b,O))||St[rt].slice(0,jt)},bt=function(H){return _.s(A%12||12,H,"0")},ut=pt||function(H,rt,St){var jt=H<12?"AM":"PM";return St?jt.toLowerCase():jt};return O.replace(k,function(H,rt){return rt||function(St){switch(St){case"YY":return String(b.$y).slice(-2);case"YYYY":return _.s(b.$y,4,"0");case"M":return x+1;case"MM":return _.s(x+1,2,"0");case"MMM":return ct(p.monthsShort,x,K,3);case"MMMM":return ct(K,x);case"D":return b.$D;case"DD":return _.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return ct(p.weekdaysMin,b.$W,G,2);case"ddd":return ct(p.weekdaysShort,b.$W,G,3);case"dddd":return G[b.$W];case"H":return String(A);case"HH":return _.s(A,2,"0");case"h":return bt(1);case"hh":return bt(2);case"a":return ut(A,R,!0);case"A":return ut(A,R,!1);case"m":return String(R);case"mm":return _.s(R,2,"0");case"s":return String(b.$s);case"ss":return _.s(b.$s,2,"0");case"SSS":return _.s(b.$ms,3,"0");case"Z":return E}return null}(H)||E.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(m,b,p){var O,E=this,A=_.p(b),R=P(m),x=(R.utcOffset()-this.utcOffset())*r,G=this-R,K=function(){return _.m(E,R)};switch(A){case h:O=K()/12;break;case d:O=K();break;case f:O=K()/3;break;case l:O=(G-x)/6048e5;break;case u:O=(G-x)/864e5;break;case c:O=G/o;break;case a:O=G/r;break;case i:O=G/n;break;default:O=G}return p?O:_.a(O)},y.daysInMonth=function(){return this.endOf(d).$D},y.$locale=function(){return $[this.$L]},y.locale=function(m,b){if(!m)return this.$L;var p=this.clone(),O=D(m,b,!0);return O&&(p.$L=O),p},y.clone=function(){return _.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),F=B.prototype;return P.prototype=F,[["$ms",s],["$s",i],["$m",a],["$H",c],["$W",u],["$M",d],["$y",h],["$D",S]].forEach(function(v){F[v[1]]=function(y){return this.$g(y,v[0],v[1])}}),P.extend=function(v,y){return v.$i||(v(y,B,P),v.$i=!0),P},P.locale=D,P.isDayjs=g,P.unix=function(v){return P(1e3*v)},P.en=$[N],P.Ls=$,P.p={},P})})(ce);var sn=ce.exports;const _t=ae(sn);var ue={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ie,function(){var n,r,o=1e3,s=6e4,i=36e5,a=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,l=2628e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:u,months:l,days:a,hours:i,minutes:s,seconds:o,milliseconds:1,weeks:6048e5},h=function($){return $ instanceof J},S=function($,w,g){return new J($,g,w.$l)},M=function($){return r.p($)+"s"},I=function($){return $<0},k=function($){return I($)?Math.ceil($):Math.floor($)},C=function($){return Math.abs($)},j=function($,w){return $?I($)?{negative:!0,format:""+C($)+w}:{negative:!1,format:""+$+w}:{negative:!1,format:""}},J=function(){function $(g,D,P){var _=this;if(this.$d={},this.$l=P,g===void 0&&(this.$ms=0,this.parseFromMilliseconds()),D)return S(g*f[M(D)],this);if(typeof g=="number")return this.$ms=g,this.parseFromMilliseconds(),this;if(typeof g=="object")return Object.keys(g).forEach(function(v){_.$d[M(v)]=g[v]}),this.calMilliseconds(),this;if(typeof g=="string"){var B=g.match(d);if(B){var F=B.slice(2).map(function(v){return v!=null?Number(v):0});return this.$d.years=F[0],this.$d.months=F[1],this.$d.weeks=F[2],this.$d.days=F[3],this.$d.hours=F[4],this.$d.minutes=F[5],this.$d.seconds=F[6],this.calMilliseconds(),this}}return this}var w=$.prototype;return w.calMilliseconds=function(){var g=this;this.$ms=Object.keys(this.$d).reduce(function(D,P){return D+(g.$d[P]||0)*f[P]},0)},w.parseFromMilliseconds=function(){var g=this.$ms;this.$d.years=k(g/u),g%=u,this.$d.months=k(g/l),g%=l,this.$d.days=k(g/a),g%=a,this.$d.hours=k(g/i),g%=i,this.$d.minutes=k(g/s),g%=s,this.$d.seconds=k(g/o),g%=o,this.$d.milliseconds=g},w.toISOString=function(){var g=j(this.$d.years,"Y"),D=j(this.$d.months,"M"),P=+this.$d.days||0;this.$d.weeks&&(P+=7*this.$d.weeks);var _=j(P,"D"),B=j(this.$d.hours,"H"),F=j(this.$d.minutes,"M"),v=this.$d.seconds||0;this.$d.milliseconds&&(v+=this.$d.milliseconds/1e3,v=Math.round(1e3*v)/1e3);var y=j(v,"S"),m=g.negative||D.negative||_.negative||B.negative||F.negative||y.negative,b=B.format||F.format||y.format?"T":"",p=(m?"-":"")+"P"+g.format+D.format+_.format+b+B.format+F.format+y.format;return p==="P"||p==="-P"?"P0D":p},w.toJSON=function(){return this.toISOString()},w.format=function(g){var D=g||"YYYY-MM-DDTHH:mm:ss",P={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return D.replace(c,function(_,B){return B||String(P[_])})},w.as=function(g){return this.$ms/f[M(g)]},w.get=function(g){var D=this.$ms,P=M(g);return P==="milliseconds"?D%=1e3:D=P==="weeks"?k(D/f[P]):this.$d[P],D||0},w.add=function(g,D,P){var _;return _=D?g*f[M(D)]:h(g)?g.$ms:S(g,this).$ms,S(this.$ms+_*(P?-1:1),this)},w.subtract=function(g,D){return this.add(g,D,!0)},w.locale=function(g){var D=this.clone();return D.$l=g,D},w.clone=function(){return S(this.$ms,this)},w.humanize=function(g){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!g)},w.valueOf=function(){return this.asMilliseconds()},w.milliseconds=function(){return this.get("milliseconds")},w.asMilliseconds=function(){return this.as("milliseconds")},w.seconds=function(){return this.get("seconds")},w.asSeconds=function(){return this.as("seconds")},w.minutes=function(){return this.get("minutes")},w.asMinutes=function(){return this.as("minutes")},w.hours=function(){return this.get("hours")},w.asHours=function(){return this.as("hours")},w.days=function(){return this.get("days")},w.asDays=function(){return this.as("days")},w.weeks=function(){return this.get("weeks")},w.asWeeks=function(){return this.as("weeks")},w.months=function(){return this.get("months")},w.asMonths=function(){return this.as("months")},w.years=function(){return this.get("years")},w.asYears=function(){return this.as("years")},$}(),N=function($,w,g){return $.add(w.years()*g,"y").add(w.months()*g,"M").add(w.days()*g,"d").add(w.hours()*g,"h").add(w.minutes()*g,"m").add(w.seconds()*g,"s").add(w.milliseconds()*g,"ms")};return function($,w,g){n=g,r=g().$utils(),g.duration=function(_,B){var F=g.locale();return S(_,{$l:F},B)},g.isDuration=h;var D=w.prototype.add,P=w.prototype.subtract;w.prototype.add=function(_,B){return h(_)?N(this,_,1):D.bind(this)(_,B)},w.prototype.subtract=function(_,B){return h(_)?N(this,_,-1):P.bind(this)(_,B)}}})})(ue);var an=ue.exports;const cn=ae(an);_t.extend(cn);function un(t){var o,s;if(typeof t=="number")return t;const e=/^(?<number>[\d.]+)(?<unit>[a-z]+)$/i.exec(t),n=((o=e==null?void 0:e.groups)==null?void 0:o.number)??0,r=(s=e==null?void 0:e.groups)==null?void 0:s.unit;return _t.duration(Number(n),r).asMilliseconds()}function le(t,e){return _t(t).format(e??"YYYY-MM-DD HH:mm:ss")}function ln(t,e){const n=typeof t=="string"?un(t):t;return e?new Promise(r=>{const o=setTimeout(r,n);e.addEventListener("abort",()=>{clearTimeout(o),r()})}):new Promise(r=>{setTimeout(r,n)})}function de(t){return new Promise(e=>{const n=t(r=>{n(),e(r)})})}function fe(t){return typeof t=="object"&&t!==null}function dn(t){return t===void 0}function he(t){return(...e)=>e.filter(n=>!dn(n)).map(n=>n.toString()).reduce((n,r)=>(n=n.replace(new RegExp(`${t}*$`),""),r=r.replace(new RegExp(`^${t}*`),""),n===""?r:r===""?n:`${n}${t}${r}`),"")}function ge(t){return t.replace(/^./,e=>e.toUpperCase())}function Vt(t){return t.replace(/^./,e=>e.toLowerCase())}const fn=he("/"),lt=(...t)=>fn(...t.filter(e=>!!e)),Bt=new Map,$t=t=>{const e=Bt.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},hn=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=Bt.get(n.name);if(r)return{type:"tracked",store:t,...r};const o={connection:e.connect(n),stores:{}};return Bt.set(n.name,o),{type:"tracked",store:t,...o}},me=(t,e={})=>(n,r,o)=>{const{enabled:s,anonymousActionType:i,store:a,...c}=e;let u;try{u=(s??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return t(n,r,o);const{connection:l,...d}=hn(a,u,c);let f=!0;o.setState=(M,I,k)=>{const C=n(M,I);if(!f)return C;const j=k===void 0?{type:i||"anonymous"}:typeof k=="string"?{type:k}:k;return a===void 0?(l==null||l.send(j,r()),C):(l==null||l.send({...j,type:`${a}/${j.type}`},{...$t(c.name),[a]:o.getState()}),C)};const h=(...M)=>{const I=f;f=!1,n(...M),f=I},S=t(o.setState,r,o);if(d.type==="untracked"?l==null||l.init(S):(d.stores[d.store]=o,l==null||l.init(Object.fromEntries(Object.entries(d.stores).map(([M,I])=>[M,M===d.store?S:I.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let M=!1;const I=o.dispatch;o.dispatch=(...k)=>{I(...k)}}return l.subscribe(M=>{var I;switch(M.type){case"ACTION":if(typeof M.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return xt(M.payload,k=>{if(k.type==="__setState"){if(a===void 0){h(k.state);return}Object.keys(k.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=k.state[a];if(C==null)return;JSON.stringify(o.getState())!==JSON.stringify(C)&&h(C);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(k)});case"DISPATCH":switch(M.payload.type){case"RESET":return h(S),a===void 0?l==null?void 0:l.init(o.getState()):l==null?void 0:l.init($t(c.name));case"COMMIT":if(a===void 0){l==null||l.init(o.getState());return}return l==null?void 0:l.init($t(c.name));case"ROLLBACK":return xt(M.state,k=>{if(a===void 0){h(k),l==null||l.init(o.getState());return}h(k[a]),l==null||l.init($t(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return xt(M.state,k=>{if(a===void 0){h(k);return}JSON.stringify(o.getState())!==JSON.stringify(k[a])&&h(k[a])});case"IMPORT_STATE":{const{nextLiftedState:k}=M.payload,C=(I=k.computedStates.slice(-1)[0])==null?void 0:I.state;if(!C)return;h(a===void 0?C:C[a]),l==null||l.send(null,k);return}case"PAUSE_RECORDING":return f=!f}return}}),S},xt=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)},gn=t=>(e,n,r)=>{const o=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=i(r.getState());u=f=>{const h=i(f);if(!l(d,h)){const S=d;a(d=h,S)}},c!=null&&c.fireImmediately&&a(d,d)}return o(u)},t(e,n,r)},pe=t=>{let e;const n=new Set,r=(l,d)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(S=>S(e,h))}},o=()=>e,c={setState:r,getState:o,getInitialState:()=>u,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}},u=e=t(r,o,c);return c},ye=t=>t?pe(t):pe;function Zt(t,e=new WeakMap){if(t===null||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(Array.isArray(t))n=Array.from(t),e.set(t,n),n=n.map(r=>Zt(r,e));else if(Object.prototype.toString.call(t)==="[object Object]"){n=Object.create(Object.getPrototypeOf(t)),e.set(t,n);const r=Object.getOwnPropertyDescriptors(t);Object.keys(r).forEach(o=>{const s=r[o];s.get||s.set?Object.defineProperty(n,o,s):n[o]=Zt(t[o],e)})}else n=t;return n}function we(t,...e){return e.forEach(n=>{Object.keys(n).forEach(r=>{const o=Object.getOwnPropertyDescriptor(n,r);o!=null&&o.get||o!=null&&o.set?Object.defineProperty(t,r,o):Reflect.set(t,r,n[r])})}),t}function mn(t,...e){return e.forEach(n=>{Object.keys(n).forEach(r=>{const o=Object.getOwnPropertyDescriptor(n,r);o?Object.defineProperty(t,r,o):Reflect.set(t,r,n[r])})}),t}const ve=t=>(e,n,r)=>(r.setState=(o,s)=>{if(typeof n()!="object"||n()===null)return e(o,!0);const i=Zt(n());let a=i;return typeof o=="function"?o(i):a=s?o:we(i,o),e(a,!0)},t(r.setState,n,r));function pn({timeout:t,onTimeout:e,onNameDuplicate:n,onMultipleProvide:r}={}){const o={};function s(d,f){return fe(d)?we({},d,...f.map(h=>h.value)):Object.assign({value:d},...f)}function i(d){o[d]||(o[d]=yn()),Object.keys(o).filter(h=>h===d).length>1&&(n==null||n(d))}function a(d,f){i(d),o[d].value!==null&&(r==null||r(d)),o[d].value=f,o[d].store.setState(s(f,o[d].overrides))}function c(d,f){i(d);const h={value:f},S=o[d];return S.overrides.push(h),S.value!==null&&S.store.setState(s(S.value,S.overrides)),()=>{S.overrides=S.overrides.filter(M=>M!==h),S.store.setState(s(S.value,S.overrides))}}async function u(d,f){i(d);const h=o[d];if(h.value!==null){if(f){f(l(d));return}return l(d)}if(f){de(h.store.subscribe).then(()=>f(l(d)));return}const S=new AbortController;return t&&e&&ln(t,S.signal).then(()=>e(d)),await de(h.store.subscribe).then(()=>{S.abort()}),l(d)}function l(d){const f=o[d];return f?fe(f.value)?f.store.getState():f.store.getState().value:null}return{get:l,inject:u,provide:a,override:c}}function yn(){return{store:ye(ve(me(()=>({})))),value:null,overrides:[]}}async function wn(t,e){return await new Promise(n=>{const r=()=>{t()?n(e==null?void 0:e()):requestAnimationFrame(r)};r()})}function vn(t){try{return new URL(`https://${t}`).hostname===t}catch{return!1}}function bn(t){return t==="https://zoom.us"||t==="https://zoom.com"?!0:vn(t)?/^(zoom\.us|zoom\.com)$/.test(t)||/\.(zoom\.us|zoom\.com)$/.test(t):!1}function Sn(t,e=!1){try{const n=bn(t);return e?n:n&&window.location.hostname!==t}catch{return!1}}async function _n(){return wn(()=>!!document.body,()=>document.body)}function $n(t){let e=!1;const n=new Map,r=a=>{const c=a.toString();if(!n.has(c)){if(e)throw new Error(`Hook "${t}" is disposed`);return n.set(c,a),()=>{n.delete(c)}}},o=()=>{e=!0,n.clear()},s=a=>new Promise(c=>{if(e)throw new Error(`Hook "${t}" is disposed`);const u=[...n.values()];Promise.all(u.map(l=>l(a))).then(()=>c())}),i=ge(t);return{[t]:s,[`on${i}`]:r,[`dispose${i}`]:o}}function On(t){let e=Vt(t);return/^on[A-Z]/.test(t)&&(e=Vt(t.slice(2))),/^dispose[A-Z]/.test(t)&&(e=Vt(t.slice(7))),e}class En{constructor(){this._hooks={},this.hooks=new Proxy(this._hooks,{get:(e,n,r)=>{if(typeof n!="string")return Reflect.get(e,n,r);const o=On(n);return e[o]||this.define(o),e[o][n]}})}define(e){Array.isArray(e)?e.forEach(n=>{this.defineSingle(n)}):this.defineSingle(e)}defineSingle(e){if(this._hooks[e])return;const n=$n(e);this._hooks[e]=n}dispose(e){const n=this._hooks[e];n&&(n[`dispose${ge(e)}`](),delete this._hooks[e])}disposeAll(){Object.keys(this._hooks).forEach(e=>{this.dispose(e)})}get hook(){return this.hooks}get trigger(){return this.hooks}}class be{constructor(e){this.id=e}get name(){return this.id.name}get category(){return this.id.category}impl(e,n){const r=e;return r.id=this.id,Reflect.defineProperty(r,"name",{value:r.name||this.name,writable:!1}),Reflect.defineProperty(r,"dependencies",{value:n??[]}),r}}const Se=Symbol.for("PLUGIFY_STORE"),Pn=Symbol.for("PLUGIFY_DYNAMIC_LOAD"),ot=t=>{const[e,n]=t.split("/");return new be({name:n,category:e||"?"})},Mn=ot("PlugifyBuiltin/DependencyInjectionPlugin").impl(t=>{const{logger:e}=t();return{serviceContainer:pn({timeout:"10s",onTimeout(r){e.warn(`${r.description} may not be registered!`)},onMultipleProvide(r){e.warn(`${r.description} is already registered!`)},onNameDuplicate(r){e.warn(`Multiple serive with same name: ${r.description}!`)}})}}),Cn=t=>e=>{const{hook:n}=t;e==null||e(n)},kn=t=>ot("PlugifyBuiltin/HookPlugin").impl(e=>{const{logger:n}=e(),r=new En,{disposed:o}=r.trigger,{onCreated:s,onDisposed:i}=r.hook;t==null||t.forEach(c=>Cn(r)(c));const a=()=>{o(),r.disposeAll()};return s(()=>{n.info("Created"),window.addEventListener("unload",a)}),i(()=>{n.info("Disposed")}),{onCreated:s,onDisposed:i,dispose:a,get hookManager(){return r}}}),Ot=Symbol.for("LIVESDK_GLOBAL_ENV");window[Ot]||(window[Ot]={});function _e(t){mn(window[Ot],t)}function $e(t){return _e(t),[()=>window[Ot],r=>{const o={};r(o),_e(o)}]}const[Et,Dn]=$e({});window.location.search.includes("enableLivesdkLog")&&Dn(t=>{t.COMMON_ENABLE_LOG=!0});const Oe=he("/"),Ln=ot("PlugifyBuiltin/LoggerPlugin");function Ut(t,e){const n=(r,o,...s)=>{const i={app:t,level:r,message:o,timestamp:_t().valueOf(),data:s};e(i)};return{info:(r,...o)=>n("info",r,...o),warn:(r,...o)=>n("warn",r,...o),error:(r,...o)=>n("error",r,...o),task:(r,o)=>(n("info",`${r}...`),o.then(()=>{n("info",`${r}...done ✅`)}).catch(s=>{n("error",`${r}...failed ❌`,s)}),o)}}const Ft=t=>{const e=Et().COMMON_LOG_HANDLER;if(e)try{e(t)}catch(n){console.error(n)}else(t.level==="error"||Et().COMMON_ENABLE_LOG)&&jn(t)},In={...Ut("LivesdkGlobal",Ft),create:t=>Ut(Oe("LivesdkGlobal",t),Ft)},Nn=(t,e)=>Ln.impl(()=>{const n=new Set,r=s=>Ut(Oe(t,s??""),i=>{for(const a of n)a(i)}),o=s=>(n.add(s),()=>{n.delete(s)});return e&&o(e),{getLogger:r,useLogger:o}}),Pt=/Chrome/.test(navigator.userAgent),Ee=t=>Pt?`\x1B[90m${t}\x1B[39m`:t,An=t=>Pt?`\x1B[32m${t}\x1B[39m`:t,zn=t=>Pt?`\x1B[33m${t}\x1B[39m`:t,Rn=t=>Pt?`\x1B[31m${t}\x1B[39m`:t;function Tn(t,e,n){let r;switch(t){case"info":r=An;break;case"warn":r=zn;break;case"error":r=Rn;break;case"debug":r=Ee;break;default:r=s=>s}const o=n?`__${n}`:"";return`${r(`[${t.toUpperCase()}${o}]`)} ${Ee(le(e,"YYYY-MM-DD HH:mm:ss.SSS"))} -`}function jn(t){console.log(Tn(t.level,t.timestamp,t.app),t.message,...t.data)}const Vn=ot("PlugifyBuiltin/MetaPlugin"),Bn=t=>Vn.impl(()=>{const{name:e,instanceId:n,debug:r,data:o={}}=t;return{get $meta(){return{instanceId:n,name:e,debug:r??!1,data:o}}}},[]);function xn(t,{name:e,debug:n,instanceId:r,hooks:o}={}){const s=ye(gn(me(ve(()=>({}))))),i=[Nn(e,Ft),Bn({instanceId:r,name:e}),Mn,kn(o??[]),...t],a=new Set;let c=!1;const u=h=>{const S=Me(h),M=new Map(S.filter(C=>typeof C=="function").map(C=>[C.id,C]));let I=new Set;const k=C=>{I.add(C)};for(const C of S){if(a.has(C.id))continue;let j=N=>()=>{const $=s.getState();return new Proxy($,{get(w,g){return g==="logger"?$.getLogger(N.name):g==="$pluginName"?N.name:Reflect.get(w,g)}})};const J=n?N=>{typeof N=="function"?s.setState($=>{const w=new Proxy($,{get(g,D){return Reflect.get(g,D)},set(g,D,P){return console.trace("plugify set:",D,"=",P),Reflect.set(g,D,P)}});N(w)}):(Object.keys(N).forEach($=>{console.trace("plugify set:",$,"=",N[$])}),s.setState(N))}:s.setState;if(c&&(j=N=>()=>{const $=s.getState();return new Proxy($,{get(w,g){return g==="logger"?$.getLogger(N.name):g==="onCreated"?k:Reflect.get(w,g)}})}),Zn(C)){const N=M.get(C.id);if(N){const $=N(j(C),J,s);$&&s.setState($)}else throw new Error(`❌ Implementation for ${C.id.name} not found`)}else if(Pe(C)){const N=C(j(C),J,s);N&&s.setState(N)}a.add(C.id)}c&&(I.forEach(C=>C()),I=new Set)};u(i),c=!0;const{hookManager:l,getLogger:d}=s.getState();l.trigger.created({logger:d(`${e}mixin`)});const f={};return Object.keys(s.getState()).forEach(h=>{const S=Reflect.getOwnPropertyDescriptor(s.getState(),h);S!=null&&S.set?Reflect.defineProperty(f,h,S):Reflect.defineProperty(f,h,{get(){return s.getState()[h]},enumerable:!0})}),Reflect.defineProperty(f,Se,{value:s,writable:!1}),Reflect.defineProperty(f,Pn,{value:u,writable:!1}),s.subscribe(h=>{Object.keys(h).forEach(M=>{Reflect.has(f,M)||Reflect.defineProperty(f,M,{get(){return s.getState()[M]}})})}),f}function Pe(t){return typeof t=="function"}function Zn(t){return t instanceof be}function Me(t){const e=new WeakSet;return t.map(n=>{if(e.has(n))return[];e.add(n);const r=Reflect.get(n,"dependencies");return Pe(n)&&(r==null?void 0:r.length)>0?[...Me(r),n]:n}).flat()}function Un(...t){const[e,n,r]=t,o=Reflect.get(e,Se);if(!o)throw new Error("plugify.subscribe() can only be used with minxins");return r?o.subscribe(n,r):o.subscribe(n)}Reflect.defineProperty(ot,"mixin",{value:xn,writable:!1}),Reflect.defineProperty(ot,"subscribe",{value:Un,writable:!1});const Mt=ot,Gt={dev:{CCIZP:"https://ccizp.zoomdev.us/",CCIZPAPI:"https://ccizpapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"http://localhost:3000",CAMPAIGN:"https://devcampaign.zoomdev.us/",ZVA:"https://devapizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog"},devb:{CCIZP:"https://dev01cci.zoomdev.us/",CCIZPAPI:"https://dev01cciapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://dev01campaign.zoomdev.us/",ZVA:"https://dev01apizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog"},qa:{CCIZP:"https://qa01ccizp.zoomdev.us/",CCIZPAPI:"https://qa01ccizpapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://qa01campaign.zoomdev.us/",ZVA:"https://qa01apizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog"},go:{CCIZP:"https://gocci.zoom.us/",CCIZPAPI:"https://gocciapi.zoom.us/",ZPNS:"wss://gozpns.zoom.us/ws",WEB_ENDPOINT:"go.zoom.us",SCHEDULER:"scheduler.asynccommgo.zoom.us",CAMPAIGN:"https://gocampaign.zoom.us/",ZVA:"https://goapizva.zoom.us/",CDN:"https://goccistatic.zoom.us/gocci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog"},eu01:{CCIZP:"https://eu01cci.zoom.us/",CCIZPAPI:"https://eu01cciapi.zoom.us/",ZPNS:"wss://zpns.zoom.us/ws",WEB_ENDPOINT:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://eu01campaign.zoom.us/",ZVA:"https://eu01apizva.zoom.us/",CDN:"https://eu01ccistatic.zoom.us/eu01cci/web-sdk/"},us01:{CCIZP:"https://us01cci.zoom.us/",CCIZPAPI:"https://us01cciapi.zoom.us/",ZPNS:"wss://zpns.zoom.us/ws",WEB_ENDPOINT:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://us01campaign.zoom.us/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://us01ccistatic.zoom.us/us01cci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog"},govdev:{CCIZP:"https://cci.zoomgovdev.com/",CCIZPAPI:"https://cciapi.zoomgovdev.com/",ZPNS:"wss://zpns.zoomgovdev.com/ws",WEB_ENDPOINT:"zoomgovdev.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgovdev.com/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://ccistatic.zoomgovdev.com/web-sdk/"},gov:{CCIZP:"https://cci.zoomgov.com/",CCIZPAPI:"https://cciapi.zoomgov.com/",ZPNS:"wss://zpns.zoomgov.com/ws",WEB_ENDPOINT:"zoomgov.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgov.com/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://ccistatic.zoomgov.com/web-sdk/"}},Fn=Object.fromEntries(Object.entries(Gt).map(([t,e])=>[t,e.CAMPAIGN]));function Ce(t){return["dev","devb","qa","go","eu01","us01","govdev","gov"].includes(t??"")?t:"us01"}const Gn=Object.fromEntries(Object.entries(Gt).map(([t,e])=>[t,e.ZVA])),Yn=new URLSearchParams(window.location.search).get("__zcc_version__")||"4349",Wn=Symbol.for("__ZCC_LIVESDK_CDN_ENV__"),ke=Et().COMMON_CDN_ENV,De=Et().COMMON_CUSTOM_CDN,Ct=Object.fromEntries(Object.entries(Gt).map(([t,e])=>[t,e.CDN])),dt=De?Object.fromEntries(Object.keys(Ct).map(t=>[t,De])):ke?Object.fromEntries(Object.keys(Ct).map(t=>[t,Ct[ke]])):Ct;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Le=Symbol("Comlink.proxy"),Hn=Symbol("Comlink.endpoint"),qn=Symbol("Comlink.releaseProxy"),Yt=Symbol("Comlink.finalizer"),kt=Symbol("Comlink.thrown"),Ie=t=>typeof t=="object"&&t!==null||typeof t=="function",Kn={canHandle:t=>Ie(t)&&t[Le],serialize(t){const{port1:e,port2:n}=new MessageChannel;return Ae(t,e),[n,[n]]},deserialize(t){return t.start(),Re(t)}},Jn={canHandle:t=>Ie(t)&&kt in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Ne=new Map([["proxy",Kn],["throw",Jn]]);function Xn(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function Ae(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(o){if(!o||!o.data)return;if(!Xn(n,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:s,type:i,path:a}=Object.assign({path:[]},o.data),c=(o.data.argumentList||[]).map(st);let u;try{if(a.includes("__proto__")||a.includes("constructor")||a.includes("prototype"))throw new Error("Invalid path");const l=a.slice(0,-1).reduce((f,h)=>f[h],t),d=a.reduce((f,h)=>f[h],t);switch(i){case"GET":u=d;break;case"SET":l[a.slice(-1)[0]]=st(o.data.value),u=!0;break;case"APPLY":u=d.apply(l,c);break;case"CONSTRUCT":{const f=new d(...c);u=or(f)}break;case"ENDPOINT":{const{port1:f,port2:h}=new MessageChannel;Ae(t,h),u=rr(f,[f])}break;case"RELEASE":u=void 0;break;default:return}}catch(l){u={value:l,[kt]:0}}Promise.resolve(u).catch(l=>({value:l,[kt]:0})).then(l=>{const[d,f]=Nt(l);e.postMessage(Object.assign(Object.assign({},d),{id:s}),f),i==="RELEASE"&&(e.removeEventListener("message",r),ze(e),Yt in t&&typeof t[Yt]=="function"&&t[Yt]())}).catch(l=>{const[d,f]=Nt({value:new TypeError("Unserializable return value"),[kt]:0});e.postMessage(Object.assign(Object.assign({},d),{id:s}),f)})}),e.start&&e.start()}function Qn(t){return t.constructor.name==="MessagePort"}function ze(t){Qn(t)&&t.close()}function Re(t,e){return Wt(t,[],e)}function Dt(t){if(t)throw new Error("Proxy has been released and is not useable")}function Te(t){return ft(t,{type:"RELEASE"}).then(()=>{ze(t)})}const Lt=new WeakMap,It="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Lt.get(t)||0)-1;Lt.set(t,e),e===0&&Te(t)});function tr(t,e){const n=(Lt.get(e)||0)+1;Lt.set(e,n),It&&It.register(t,e,t)}function er(t){It&&It.unregister(t)}function Wt(t,e=[],n=function(){}){let r=!1;const o=new Proxy(n,{get(s,i){if(Dt(r),i===qn)return()=>{er(o),Te(t),r=!0};if(i==="then"){if(e.length===0)return{then:()=>o};const a=ft(t,{type:"GET",path:e.map(c=>c.toString())}).then(st);return a.then.bind(a)}return Wt(t,[...e,i])},set(s,i,a){Dt(r);const[c,u]=Nt(a);return ft(t,{type:"SET",path:[...e,i].map(l=>l.toString()),value:c},u).then(st)},apply(s,i,a){Dt(r);const c=e[e.length-1];if(c===Hn)return ft(t,{type:"ENDPOINT"}).then(st);if(c==="bind")return Wt(t,e.slice(0,-1));const[u,l]=je(a);return ft(t,{type:"APPLY",path:e.map(d=>d.toString()),argumentList:u},l).then(st)},construct(s,i){Dt(r);const[a,c]=je(i);return ft(t,{type:"CONSTRUCT",path:e.map(u=>u.toString()),argumentList:a},c).then(st)}});return tr(o,t),o}function nr(t){return Array.prototype.concat.apply([],t)}function je(t){const e=t.map(Nt);return[e.map(n=>n[0]),nr(e.map(n=>n[1]))]}const Ve=new WeakMap;function rr(t,e){return Ve.set(t,e),t}function or(t){return Object.assign(t,{[Le]:!0})}function sr(t,e=globalThis,n="*"){return{postMessage:(r,o)=>t.postMessage(r,n,o),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function Nt(t){for(const[e,n]of Ne)if(n.canHandle(t)){const[r,o]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},o]}return[{type:"RAW",value:t},Ve.get(t)||[]]}function st(t){switch(t.type){case"HANDLER":return Ne.get(t.name).deserialize(t.value);case"RAW":return t.value}}function ft(t,e,n){return new Promise(r=>{const o=ir();t.addEventListener("message",function s(i){!i.data||!i.data.id||i.data.id!==o||(t.removeEventListener("message",s),r(i.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)})}function ir(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let ar=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Be=Symbol.for("livesdk_tid"),At=Symbol.for("livesdk_iframe_store");function cr(t){try{return new URL(t).hostname===window.location.hostname}catch{return!1}}async function ur(t){if(!cr(t)&&!window[At]){window[Be]=ar();const e=await _n();window[At]=new Promise((n,r)=>{const o=document.createElement("iframe");o.src=t,o.style.display="none",e.appendChild(o),o.onload=()=>{n(o)},o.onerror=s=>{r(s)},setTimeout(()=>{r(new Error("iframe load timeout"))},25e3)}),await window[At]}}const lr="zoomsdkcorsstabsync:req",xe="zoomsdkcorsstabsync:res";if(!((on=window.ZOOM_SUPPORT_CROSS_TAB_FLAGS)!=null&&on.disabled)){let t;addEventListener("message",async e=>{var r;const n=new URL(e.origin).hostname;if(Sn(n)&&e.origin!==window.origin&&((r=e.data)==null?void 0:r.type)===lr){const{key:o,namespace:s}=e.data,i=await window[At];if(!i.contentWindow){e.source.postMessage({type:xe,key:o,value:null},{targetOrigin:e.origin});return}t||(t=Re(sr(i.contentWindow)));const a=await t.getItem({tid:window[Be],namespace:s,key:o});e.source.postMessage({type:xe,key:o,value:a},{targetOrigin:e.origin})}})}function yt(t){return{name:t}}const Ze=Mt("Common/LoadSdkPlugin").impl(t=>{const e=new Map,n=t().logger;return{importSdk:async(o,s)=>{try{const i=e.get(o);if(!i)throw n.error(`No loader for ${o.name}`),new Error(`No loader for ${o.name}`);return n.info(`Loading ${o.name}`),await i.load(s)}catch(i){return n.error(`Failed to load ${o.name}`,i),Promise.reject(i)}},useSdkLoader(o,s){e.set(o,s)}}});function Ht(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function qt(t,e,n=".",r){if(!Ht(e))return qt(t,{},n,r);const o=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const i=t[s];i!=null&&(r&&r(o,s,i,n)||(Array.isArray(i)&&Array.isArray(o[s])?o[s]=[...i,...o[s]]:Ht(i)&&Ht(o[s])?o[s]=qt(i,o[s],(n?`${n}.`:"")+s.toString(),r):o[s]=i))}return o}function dr(t){return(...e)=>e.reduce((n,r)=>qt(n,r,"",t),{})}const fr=dr();function hr(t,e,n){const r=n==null?void 0:n.merge,o=Reflect.get(window,t);if(r&&o){const s=e();if(typeof s=="object"&&typeof o=="object"){const i=fr(o,s);for(const a of Object.keys(i))Reflect.set(o,a,Reflect.get(i,a))}}else o||Reflect.set(window,t,e());return Reflect.get(window,t)}function Ue(t,e,n){return hr(`ZoomWebSDKDef__${t}`,e,n)}function T(...t){const e=[gr(),...t],n=()=>{for(const o of e)if(typeof o=="function"){const s=o();if(s!==null)return s}else if(o instanceof Fe){const s=o.read();if(s!==null)return s}else if(o!=null)return o;return null},r=o=>{for(const s of e)if(s instanceof Kt){s.write(o);return}};return new Kt(n,r)}function gr(){let t=null;const e=()=>t,n=r=>{t=r};return new Kt(e,n)}class Fe{constructor(e){this.read=e}}class Kt extends Fe{constructor(e,n){super(e),this.write=n}}function W(...t){if(t.length===0)return null;let e=null;for(const n of t)if(e===null)e=n;else if(typeof e=="object"&&Reflect.has(e,n))e=Reflect.get(e,n);else return null;return e}function V(t,e,n){const o=new URL(t).searchParams.get(e);return n?n(o):o}function X(t){for(const e of t.selectors){const n=document.querySelector(e);if(n)return W(n,...t.path)}return null}const q=Symbol.for("LIVESDK_GLOBAL_ENV"),it="script[data-apikey][data-chat-entry-id]",nt='script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])',mr='script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]';function zt(t){return t==="true"||t===""}const pr=T(null,()=>V(window.location.href,"__IS_DEBUG__",zt),()=>W(window,"__ZCX_LIVESDK_DEBUG__"),()=>W(window,q,"COMMON_DEBUG"),!1);function Z(t){return()=>pr.read()?t():null}const L=Ue("GlobalConfigs",()=>({enableLog:T(Z(()=>!0),()=>V(window.location.href,"enableLivesdkLog",zt),()=>W(window,q,"COMMON_ENABLE_LOG"),!1),cdnEnv:T(Z(()=>V(window.location.href,"cdnEnv")),()=>W(window,q,"COMMON_CDN_ENV"),"us01"),enableZcb:T(()=>V(window.location.href,"enableZcb",zt),()=>W(window,q,"COMMON_ENABLE_ZCB"),!1),cdnVersion:T(Z(()=>V(window.location.href,"cdnVersion")),()=>W(window,q,"COMMON_CDN_VERSION")),cdnZccVersion:T(Z(()=>V(window.location.href,"cdnZccVersion")),()=>W(window,q,"COMMON_CDN_VERSION")),cdnZvaVersion:T(Z(()=>V(window.location.href,"cdnZvaVersion")),()=>W(window,q,"COMMON_CDN_ZVA_VERSION")),legacyLogReportter:T(()=>W(window,q,"COMMON_LOG_HANDLER")),refreshTokenWhenExpiredIn:T(Z(()=>V(window.location.href,"refreshTokenWhenExpiredIn",Number)),()=>W(window,q,"COMMON_REFRESH_TOKEN_WHEN_EXPIRED_IN")),customCdn:T(Z(()=>V(window.location.href,"customCdn")),()=>W(window,q,"COMMON_CUSTOM_CDN")),env:T(Z(()=>V(window.location.href,"env")),()=>W(window,q,"COMMON_ENV"),()=>X({selectors:[it,nt,mr],path:["dataset","env"]}),"us01")}),{merge:!0});Ue("GlobalChatConfigs",()=>({...L,lazyLoadCampaign:T(Z(()=>V(window.location.href,"lazyLoadCampaignUrl")),()=>W(window,q,"COMMON_LAZY_LOAD_CAMPAIGN"),()=>X({selectors:[nt],path:["dataset","lazyLoadCampaignUrl"]})),productModule:T(Z(()=>V(window.location.href,"productModule")),()=>X({selectors:[it],path:["dataset","productModule"]})),chatEntryId:T(Z(()=>V(window.location.href,"key")),()=>X({selectors:[it,nt],path:["dataset","chatEntryId"]})),apikey:T(Z(()=>V(window.location.href,"apikey")),()=>X({selectors:[it,nt],path:["dataset","apikey"]})),zIndexBase:T(Z(()=>V(window.location.href,"zIndexBase",Number)),()=>X({selectors:[it,nt],path:["dataset","zIndexBase"],cast:Number})),draggableInvitation:T(Z(()=>V(window.location.href,"draggableInvitation",zt)),()=>X({selectors:[it,nt],path:["dataset","draggableInvitation"],cast:Boolean})),windowPosition:T(Z(()=>V(window.location.href,"windowPosition")),()=>X({selectors:[nt],path:["dataset","windowPosition"]})),el:T(Z(()=>V(window.location.href,"el")),()=>X({selectors:[it],path:["dataset","el"]})),fullscreenId:T(Z(()=>V(window.location.href,"fullscreenId")),()=>X({selectors:[nt],path:["dataset","fullscreenId"]}))}));const Y={silent:Number.NEGATIVE_INFINITY,fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,ready:3,start:3,box:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},Ge={silent:{level:-1},fatal:{level:Y.fatal},error:{level:Y.error},warn:{level:Y.warn},log:{level:Y.log},info:{level:Y.info},success:{level:Y.success},fail:{level:Y.fail},ready:{level:Y.info},start:{level:Y.info},box:{level:Y.info},debug:{level:Y.debug},trace:{level:Y.trace},verbose:{level:Y.verbose}};function Jt(t){return t!==null&&typeof t=="object"}function Xt(t,e,n=".",r){if(!Jt(e))return Xt(t,{},n,r);const o=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const i=t[s];i!=null&&(r&&r(o,s,i,n)||(Array.isArray(i)&&Array.isArray(o[s])?o[s]=[...i,...o[s]]:Jt(i)&&Jt(o[s])?o[s]=Xt(i,o[s],(n?`${n}.`:"")+s.toString(),r):o[s]=i))}return o}function yr(t){return(...e)=>e.reduce((n,r)=>Xt(n,r,"",t),{})}const wr=yr();function vr(t){return Object.prototype.toString.call(t)==="[object Object]"}function br(t){return!(!vr(t)||!t.message&&!t.args||t.stack)}let Qt=!1;const Ye=[];class U{constructor(e={}){const n=e.types||Ge;this.options=wr({...e,defaults:{...e.defaults},level:te(e.level,n),reporters:[...e.reporters||[]]},{types:Ge,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const r in n){const o={type:r,...this.options.defaults,...n[r]};this[r]=this._wrapLogFn(o),this[r].raw=this._wrapLogFn(o,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=te(e,this.options.types,this.options.level)}prompt(e,n){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,n)}create(e){const n=new U({...this.options,...e});return this._mockFn&&n.mockTypes(this._mockFn),n}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const n=this.options.reporters.indexOf(e);if(n>=0)return this.options.reporters.splice(n,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,n){e&&(e.__write||(e.__write=e.write),e.write=r=>{this[n].raw(String(r).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){Qt=!0}resumeLogs(){Qt=!1;const e=Ye.splice(0);for(const n of e)n[0]._logFn(n[1],n[2])}mockTypes(e){const n=e||this.options.mockFn;if(this._mockFn=n,typeof n=="function")for(const r in this.options.types)this[r]=n(r,this.options.types[r])||this[r],this[r].raw=this[r]}_wrapLogFn(e,n){return(...r)=>{if(Qt){Ye.push([this,e,r,n]);return}return this._logFn(e,r,n)}}_logFn(e,n,r){if((e.level||0)>this.level)return!1;const o={date:new Date,args:[],...e,level:te(e.level,this.options.types)};!r&&n.length===1&&br(n[0])?Object.assign(o,n[0]):o.args=[...n],o.message&&(o.args.unshift(o.message),delete o.message),o.additional&&(Array.isArray(o.additional)||(o.additional=o.additional.split(`
`)),o.args.push(`
`+o.additional.join(`
`)),delete o.additional),o.type=typeof o.type=="string"?o.type.toLowerCase():"log",o.tag=typeof o.tag=="string"?o.tag:"";const s=(a=!1)=>{const c=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&c>0){const u=[...this._lastLog.object.args];c>1&&u.push(`(repeated ${c} times)`),this._log({...this._lastLog.object,args:u}),this._lastLog.count=1}a&&(this._lastLog.object=o,this._log(o))};clearTimeout(this._lastLog.timeout);const i=this._lastLog.time&&o.date?o.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=o.date,i<this.options.throttle)try{const a=JSON.stringify([o.type,o.tag,o.args]),c=this._lastLog.serialized===a;if(this._lastLog.serialized=a,c&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(s,this.options.throttle);return}}catch{}s(!0)}_log(e){for(const n of this.options.reporters)n.log(e,{options:this.options})}}function te(t,e={},n=3){return t===void 0?n:typeof t=="number"?t:e[t]&&e[t].level!==void 0?e[t].level:n}U.prototype.add=U.prototype.addReporter,U.prototype.remove=U.prototype.removeReporter,U.prototype.clear=U.prototype.removeReporter,U.prototype.withScope=U.prototype.withTag,U.prototype.mock=U.prototype.mockTypes,U.prototype.pause=U.prototype.pauseLogs,U.prototype.resume=U.prototype.resumeLogs;function Sr(t={}){return new U(t)}class _r{constructor(e){this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:e===1?console.__warn||console.warn:console.__log||console.log}log(e){const n=this._getLogFn(e.level),r=e.type==="log"?"":e.type,o=e.tag||"",i=`
      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,a=`%c${[o,r].filter(Boolean).join(":")}`;typeof e.args[0]=="string"?n(`${a}%c ${e.args[0]}`,i,"",...e.args.slice(1)):n(a,i,...e.args)}}function ee(t={}){return Sr({reporters:t.reporters||[new _r({})],prompt(n,r={}){return r.type==="confirm"?Promise.resolve(confirm(n)):Promise.resolve(prompt(n))},...t})}ee();const ne=10,We=(t=0)=>e=>`\x1B[${e+t}m`,He=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,qe=(t=0)=>(e,n,r)=>`\x1B[${38+t};2;${e};${n};${r}m`,z={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(z.modifier);const $r=Object.keys(z.color),Or=Object.keys(z.bgColor);[...$r,...Or];function Er(){const t=new Map;for(const[e,n]of Object.entries(z)){for(const[r,o]of Object.entries(n))z[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[r]=z[r],t.set(o[0],o[1]);Object.defineProperty(z,e,{value:n,enumerable:!1})}return Object.defineProperty(z,"codes",{value:t,enumerable:!1}),z.color.close="\x1B[39m",z.bgColor.close="\x1B[49m",z.color.ansi=We(),z.color.ansi256=He(),z.color.ansi16m=qe(),z.bgColor.ansi=We(ne),z.bgColor.ansi256=He(ne),z.bgColor.ansi16m=qe(ne),Object.defineProperties(z,{rgbToAnsi256:{value(e,n,r){return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},enumerable:!1},hexToRgb:{value(e){const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(s=>s+s).join(""));const o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>z.rgbToAnsi256(...z.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,r,o;if(e>=232)n=((e-232)*10+8)/255,r=n,o=n;else{e-=16;const a=e%36;n=Math.floor(e/36)/5,r=Math.floor(a/6)/5,o=a%6/5}const s=Math.max(n,r,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(n));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>z.ansi256ToAnsi(z.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>z.ansi256ToAnsi(z.hexToAnsi256(e)),enumerable:!1}}),z}const Q=Er(),Rt=(()=>{if(navigator.userAgentData){const t=navigator.userAgentData.brands.find(({brand:e})=>e==="Chromium");if(t&&t.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),Ke=Rt!==0&&{level:Rt,hasBasic:!0,has256:Rt>=2,has16m:Rt>=3},Pr={stdout:Ke,stderr:Ke};function Mr(t,e,n){let r=t.indexOf(e);if(r===-1)return t;const o=e.length;let s=0,i="";do i+=t.slice(s,r)+e+n,s=r+o,r=t.indexOf(e,s);while(r!==-1);return i+=t.slice(s),i}function Cr(t,e,n,r){let o=0,s="";do{const i=t[r-1]==="\r";s+=t.slice(o,i?r-1:r)+e+(i?`\r
`:`
`)+n,o=r+1,r=t.indexOf(`
`,o)}while(r!==-1);return s+=t.slice(o),s}const{stdout:Je,stderr:Xe}=Pr,re=Symbol("GENERATOR"),ht=Symbol("STYLER"),wt=Symbol("IS_EMPTY"),Qe=["ansi","ansi","ansi256","ansi16m"],gt=Object.create(null),kr=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=Je?Je.level:0;t.level=e.level===void 0?n:e.level},Dr=t=>{const e=(...n)=>n.join(" ");return kr(e,t),Object.setPrototypeOf(e,vt.prototype),e};function vt(t){return Dr(t)}Object.setPrototypeOf(vt.prototype,Function.prototype);for(const[t,e]of Object.entries(Q))gt[t]={get(){const n=Tt(this,se(e.open,e.close,this[ht]),this[wt]);return Object.defineProperty(this,t,{value:n}),n}};gt.visible={get(){const t=Tt(this,this[ht],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const oe=(t,e,n,...r)=>t==="rgb"?e==="ansi16m"?Q[n].ansi16m(...r):e==="ansi256"?Q[n].ansi256(Q.rgbToAnsi256(...r)):Q[n].ansi(Q.rgbToAnsi(...r)):t==="hex"?oe("rgb",e,n,...Q.hexToRgb(...r)):Q[n][t](...r),Lr=["rgb","hex","ansi256"];for(const t of Lr){gt[t]={get(){const{level:n}=this;return function(...r){const o=se(oe(t,Qe[n],"color",...r),Q.color.close,this[ht]);return Tt(this,o,this[wt])}}};const e="bg"+t[0].toUpperCase()+t.slice(1);gt[e]={get(){const{level:n}=this;return function(...r){const o=se(oe(t,Qe[n],"bgColor",...r),Q.bgColor.close,this[ht]);return Tt(this,o,this[wt])}}}}const Ir=Object.defineProperties(()=>{},{...gt,level:{enumerable:!0,get(){return this[re].level},set(t){this[re].level=t}}}),se=(t,e,n)=>{let r,o;return n===void 0?(r=t,o=e):(r=n.openAll+t,o=e+n.closeAll),{open:t,close:e,openAll:r,closeAll:o,parent:n}},Tt=(t,e,n)=>{const r=(...o)=>Nr(r,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(r,Ir),r[re]=t,r[ht]=e,r[wt]=n,r},Nr=(t,e)=>{if(t.level<=0||!e)return t[wt]?"":e;let n=t[ht];if(n===void 0)return e;const{openAll:r,closeAll:o}=n;if(e.includes("\x1B"))for(;n!==void 0;)e=Mr(e,n.close,n.open),n=n.parent;const s=e.indexOf(`
`);return s!==-1&&(e=Cr(e,o,r,s)),r+e+o};Object.defineProperties(vt.prototype,gt);const Ar=vt();vt({level:Xe?Xe.level:0});const tn=Ar,at=ee({level:Y.verbose}),zr={log(t){switch(t.type){case"info":case"success":case"error":case"warn":case"debug":case"start":{if(t.type==="debug"&&!L.enableLog.read())return;const n={info:at.info,success:at.success,error:at.error,warn:at.warn,debug:at.debug,start:at.start}[t.type],r=tn.gray(le(t.date.valueOf(),"YY/MM/DD HH:mm:ss.SSS Z")),o=tn.bold.blueBright(`[@ZCC_${t.tag||"GLOBAL"}]`);n(`${o} ${r}:`,...t.args);break}case"trace":{at.trace(t.args);break}}}},en=ee({level:Y.verbose,reporters:[zr]});function Rr(t){let e=en;return t!=null&&t.name&&(e=e.withTag(t.name)),t!=null&&t.consolaOptions&&(e=e.create(t.consolaOptions)),e}const[Qr,nn]=$e({}),tt=Rr({name:"Loader"});async function Tr(t,e){var o,s,i,a,c;if((o=L==null?void 0:L.cdnZccVersion)!=null&&o.read()||(s=L==null?void 0:L.cdnVersion)!=null&&s.read()){tt.debug(`Found version in cache: ${L.cdnZccVersion.read()}`),tt.debug(`Found version in cache: ${L.cdnVersion.read()}`);return}const n={};e&&(n.apikey=e);const r=`${Fn[t]}v1/live-sdk-version/fast?${new URLSearchParams(n)}`;try{const u=await fetch(r).then(l=>l.json());(i=u.result)!=null&&i.liveSDKPath?(nn(l=>{l.COMMON_CDN_VERSION=u.result.liveSDKPath}),(a=L==null?void 0:L.cdnZccVersion)==null||a.write(u.result.liveSDKPath),(c=L==null?void 0:L.cdnVersion)==null||c.write(u.result.liveSDKPath),tt.debug(`WebSDK ZCC version: ${u.result.liveSDKPath}`)):tt.debug(`No version found in response: ${JSON.stringify(u)}`)}catch(u){tt.warn("Failed to get version",u)}}async function jr(t,e){if(L.cdnZvaVersion.read()){tt.debug(`Found version in cache: ${L.cdnZvaVersion.read()}`);return}const n=`${Gn[t]}v1/websdk/version`;try{const r=await fetch(n,{method:"GET",headers:{"X-Zm-apiKey":e}}).then(o=>o.json());r!=null&&r.result?(nn(o=>{o.COMMON_CDN_ZVA_VERSION=r==null?void 0:r.result}),L.cdnZvaVersion.write(r==null?void 0:r.result),tt.debug(`WebSDK ZVA version: ${r==null?void 0:r.result}`)):tt.debug(`No version found in response: ${JSON.stringify(r)}`)}catch(r){tt.warn("Failed to get version",r)}}const et=en.withTag("LOADER"),Vr=yt("WebVideo"),Br=yt("VideoSdk"),xr=yt("ZccSdk"),Zr=yt("ZvaSdk"),Ur=yt("WebCampaign"),mt={WebVideo:Vr,VideoSdk:Br,ZccSdk:xr,ZvaSdk:Zr,WebCampaign:Ur},Fr=Mt("Common/ZccSdkPlugin").impl(t=>{const{useSdkLoader:e,hookManager:n}=t();return e(mt.WebVideo,{async load({env:r,version:o,entryId:s,apikey:i,draggableInvitation:a}){const c=new URL(lt(dt[r],o,"video-share-v2.js"));return r&&c.searchParams.set("env",r),s&&c.searchParams.set("entryId",s),i&&c.searchParams.set("apikey",i),a&&c.searchParams.set("draggableInvitation",a),et.debug(`Loading web video sdk from ${c}`,{env:r}),await import(c.href)}}),e(mt.VideoSdk,{async load({env:r,version:o,entryId:s,apikey:i,draggableInvitation:a,cdnEnv:c}){const u=new URL(lt(dt[c||r],o,"video-client-v2.js"));return r&&u.searchParams.set("env",r),s&&u.searchParams.set("entryId",s),i&&u.searchParams.set("apikey",i),a&&u.searchParams.set("draggableInvitation",a),et.debug(`Loading video sdk from ${u}`,{env:r}),await import(u.href)}}),e(mt.ZccSdk,{async load({draggableInvitation:r,windowPosition:o,zIndexBase:s,skipInit:i,version:a,entryId:c,apikey:u,mode:l,env:d,el:f}){const h=new URL(lt(dt[d],a,"chat-client-zcc-v2.js"));return d&&h.searchParams.set("env",d),c&&h.searchParams.set("entryId",c),u&&h.searchParams.set("apikey",u),s&&h.searchParams.set("zIndexBase",s),f&&h.searchParams.set("selector",f),r&&h.searchParams.set("draggableInvitation",r),o&&h.searchParams.set("windowPosition",o),l&&h.searchParams.set("mode",l),i&&h.searchParams.set("skipInit","true"),et.debug(`Loading chat sdk from ${h}`,{env:d}),await import(h.href)}}),e(mt.ZvaSdk,{async load({draggableInvitation:r,windowPosition:o,zIndexBase:s,skipInit:i,version:a,entryId:c,apikey:u,mode:l,env:d,el:f}){const h=new URL(lt(dt[d],a,"chat-client-zva-v2.js"));return d&&h.searchParams.set("env",d),c&&h.searchParams.set("entryId",c),u&&h.searchParams.set("apikey",u),s&&h.searchParams.set("zIndexBase",s),f&&h.searchParams.set("selector",f),r&&h.searchParams.set("draggableInvitation",r),o&&h.searchParams.set("windowPosition",o),l&&h.searchParams.set("mode",l),i&&h.searchParams.set("skipInit","true"),et.debug(`Loading chat sdk from ${h}`,{env:d}),h.searchParams.set("zva","true"),await import(h.href)}}),e(mt.WebCampaign,{async load({draggableInvitation:r,windowPosition:o,lazyLoadCampaignUrl:s,zIndexBase:i,version:a,entryId:c,apikey:u,env:l,fullScreenId:d}){const f=new URL(lt(dt[l],a,"web-campaign.js"));return l&&f.searchParams.set("env",l),u&&f.searchParams.set("apikey",u),i&&f.searchParams.set("zIndexBase",i),c&&f.searchParams.set("entryId",c),r&&f.searchParams.set("draggableInvitation",r),o&&f.searchParams.set("windowPosition",o),s&&f.searchParams.set("lazyLoadCampaignUrl",s),d&&f.searchParams.set("fullScreenId",d),et.debug(`Loading web campaign sdk from ${f}`,{env:l}),await import(f.href)}}),n.trigger.useLoader({useSdkLoader:e,logger:t().logger}),{async loadZccSdk(r,{v1:o=!1,env:s="us01",cdnEnv:i,version:a,...c}={}){var h,S,M;const u=r==="ZvaSdk";let l;try{l=new URLSearchParams(window.location.search).get("__zcc_version__")}catch(I){et.error("Failed to get test version",I)}r!=="WebCampaign"&&(u?await jr(s,c.entryId?c.entryId:c.apikey):await Tr(s,c.apikey));const d=((h=L==null?void 0:L.cdnZccVersion)==null?void 0:h.read())||((S=L==null?void 0:L.cdnVersion)==null?void 0:S.read()),f=(M=L==null?void 0:L.cdnZvaVersion)==null?void 0:M.read();a||((s==="dev"||s==="qa")&&(a=Yn),r!=="WebCampaign"&&(!u&&d&&(a=d),u&&f&&(a=f)),l&&(a=l));try{const I=new URL(lt(dt[s],a,"cross-storage.html"));et.start("Init iframe"),await ur(I.href),et.success("Init iframe")}catch(I){et.error("Failed to init iframe",I)}return window[Wn]=i||s,t().importSdk(mt[r],{v1:o,env:s,version:a,...c})}}},[Ze]),Gr=Mt("Utils/DiscoverSdkPlugin").impl(t=>{const{loadZccSdk:e,logger:n}=t(),r=c=>{if(c==="zva"){const u=document.querySelector('script[data-apikey][data-chat-entry-id][data-product-module="zva"]');if(u){const{dataset:l}=u;return l}}else if(c==="chat"){const u=document.querySelector('script[data-apikey][data-chat-entry-id]:not([data-product-module="zva"])');if(u){const{dataset:l}=u;return l}}else{const u=document.querySelector('script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])');if(u){const{dataset:l}=u;return l}}return null},o=()=>{const c=document.querySelector('script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]');if(c){const{dataset:u}=c;return u}return null},s=c=>{switch(c){case"chat":case"zva":case"campaign":return r(c);case"video":return o();default:return null}},i=async()=>{["chat","zva","campaign"].forEach(async c=>{const u=rn(s(c));if(u){n.info(`${c} sdk  discovered`);const l=Ce(u.get("env"))||"us01",d=u.get("chatEntryId"),f=u.get("productModule"),h=u.get("apikey"),S=u.get("zIndexBase"),M=u.get("draggableInvitation"),I=u.get("windowPosition"),k=u.get("el"),C=u.get("lazyLoadCampaignUrl"),j=u.get("fullScreenId")||"",J={env:l,entryId:d,apikey:h,zIndexBase:S,draggableInvitation:M,windowPosition:I,lazyLoadCampaignUrl:C,fullScreenId:j,zva:f==="zva"},N=J.zva?"ZvaSdk":"ZccSdk";d&&h?e(N,{...J,el:k}):e("WebCampaign",{...J})}})},a=async()=>{const c=rn(s("video"));if(c){n.info("video sdk  discovered");const u=Ce(c.get("env"))||"us01",l=c.get("entryId"),d=c.get("apikey"),f=c.get("lazyLoadCampaignUrl"),h=c.get("draggableInvitation");e("VideoSdk",{env:u,entryId:l,apikey:d,draggableInvitation:h,lazyLoadCampaignUrl:f})}};return{discoverSdk:s,discover(){i(),a()}}},[Fr]);function rn(t){if(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}return null}In.create("SdkLoader").info("Loaded");const Yr=[Ze,Gr];Mt.mixin(Yr,{name:"SdkLoader"}).discover()})();
