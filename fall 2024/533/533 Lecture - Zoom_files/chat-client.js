(function(){"use strict";var Ao;var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lt={exports:{}};(function(e,t){(function(o,n){e.exports=n()})(Pt,function(){var o=1e3,n=6e4,r=36e5,s="millisecond",i="second",c="minute",u="hour",d="day",l="week",a="month",h="quarter",f="year",m="date",b="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var y=["th","st","nd","rd"],p=S%100;return"["+S+(y[(p-20)%10]||y[p]||y[0])+"]"}},x=function(S,y,p){var _=String(S);return!_||_.length>=y?S:""+Array(y+1-_.length).join(p)+S},ee={s:x,z:function(S){var y=-S.utcOffset(),p=Math.abs(y),_=Math.floor(p/60),w=p%60;return(y<=0?"+":"-")+x(_,2,"0")+":"+x(w,2,"0")},m:function S(y,p){if(y.date()<p.date())return-S(p,y);var _=12*(p.year()-y.year())+(p.month()-y.month()),w=y.clone().add(_,a),P=p-w<0,M=y.clone().add(_+(P?-1:1),a);return+(-(_+(p-w)/(P?w-M:M-w))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:a,y:f,w:l,d,D:m,h:u,m:c,s:i,ms:s,Q:h}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},N="en",E={};E[N]=I;var v="$isDayjsObject",g=function(S){return S instanceof Z||!(!S||!S[v])},k=function S(y,p,_){var w;if(!y)return N;if(typeof y=="string"){var P=y.toLowerCase();E[P]&&(w=P),p&&(E[P]=p,w=P);var M=y.split("-");if(!w&&M.length>1)return S(M[0])}else{var R=y.name;E[R]=y,w=R}return!_&&w&&(N=w),w||!_&&N},L=function(S,y){if(g(S))return S.clone();var p=typeof y=="object"?y:{};return p.date=S,p.args=arguments,new Z(p)},C=ee;C.l=k,C.i=g,C.w=function(S,y){return L(S,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var Z=function(){function S(p){this.$L=k(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[v]=!0}var y=S.prototype;return y.parse=function(p){this.$d=function(_){var w=_.date,P=_.utc;if(w===null)return new Date(NaN);if(C.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var M=w.match($);if(M){var R=M[2]-1||0,j=(M[7]||"0").substring(0,3);return P?new Date(Date.UTC(M[1],R,M[3]||1,M[4]||0,M[5]||0,M[6]||0,j)):new Date(M[1],R,M[3]||1,M[4]||0,M[5]||0,M[6]||0,j)}}return new Date(w)}(p),this.init()},y.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return this.$d.toString()!==b},y.isSame=function(p,_){var w=L(p);return this.startOf(_)<=w&&w<=this.endOf(_)},y.isAfter=function(p,_){return L(p)<this.startOf(_)},y.isBefore=function(p,_){return this.endOf(_)<L(p)},y.$g=function(p,_,w){return C.u(p)?this[_]:this.set(w,p)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(p,_){var w=this,P=!!C.u(_)||_,M=C.p(p),R=function(pe,Y){var le=C.w(w.$u?Date.UTC(w.$y,Y,pe):new Date(w.$y,Y,pe),w);return P?le:le.endOf(d)},j=function(pe,Y){return C.w(w.toDate()[pe].apply(w.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(Y)),w)},V=this.$W,G=this.$M,X=this.$D,Ce="set"+(this.$u?"UTC":"");switch(M){case f:return P?R(1,0):R(31,11);case a:return P?R(1,G):R(0,G+1);case l:var ge=this.$locale().weekStart||0,Ie=(V<ge?V+7:V)-ge;return R(P?X-Ie:X+(6-Ie),G);case d:case m:return j(Ce+"Hours",0);case u:return j(Ce+"Minutes",1);case c:return j(Ce+"Seconds",2);case i:return j(Ce+"Milliseconds",3);default:return this.clone()}},y.endOf=function(p){return this.startOf(p,!1)},y.$set=function(p,_){var w,P=C.p(p),M="set"+(this.$u?"UTC":""),R=(w={},w[d]=M+"Date",w[m]=M+"Date",w[a]=M+"Month",w[f]=M+"FullYear",w[u]=M+"Hours",w[c]=M+"Minutes",w[i]=M+"Seconds",w[s]=M+"Milliseconds",w)[P],j=P===d?this.$D+(_-this.$W):_;if(P===a||P===f){var V=this.clone().set(m,1);V.$d[R](j),V.init(),this.$d=V.set(m,Math.min(this.$D,V.daysInMonth())).$d}else R&&this.$d[R](j);return this.init(),this},y.set=function(p,_){return this.clone().$set(p,_)},y.get=function(p){return this[C.p(p)]()},y.add=function(p,_){var w,P=this;p=Number(p);var M=C.p(_),R=function(G){var X=L(P);return C.w(X.date(X.date()+Math.round(G*p)),P)};if(M===a)return this.set(a,this.$M+p);if(M===f)return this.set(f,this.$y+p);if(M===d)return R(1);if(M===l)return R(7);var j=(w={},w[c]=n,w[u]=r,w[i]=o,w)[M]||1,V=this.$d.getTime()+p*j;return C.w(V,this)},y.subtract=function(p,_){return this.add(-1*p,_)},y.format=function(p){var _=this,w=this.$locale();if(!this.isValid())return w.invalidDate||b;var P=p||"YYYY-MM-DDTHH:mm:ssZ",M=C.z(this),R=this.$H,j=this.$m,V=this.$M,G=w.weekdays,X=w.months,Ce=w.meridiem,ge=function(Y,le,ke,Je){return Y&&(Y[le]||Y(_,P))||ke[le].slice(0,Je)},Ie=function(Y){return C.s(R%12||12,Y,"0")},pe=Ce||function(Y,le,ke){var Je=Y<12?"AM":"PM";return ke?Je.toLowerCase():Je};return P.replace(O,function(Y,le){return le||function(ke){switch(ke){case"YY":return String(_.$y).slice(-2);case"YYYY":return C.s(_.$y,4,"0");case"M":return V+1;case"MM":return C.s(V+1,2,"0");case"MMM":return ge(w.monthsShort,V,X,3);case"MMMM":return ge(X,V);case"D":return _.$D;case"DD":return C.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return ge(w.weekdaysMin,_.$W,G,2);case"ddd":return ge(w.weekdaysShort,_.$W,G,3);case"dddd":return G[_.$W];case"H":return String(R);case"HH":return C.s(R,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return pe(R,j,!0);case"A":return pe(R,j,!1);case"m":return String(j);case"mm":return C.s(j,2,"0");case"s":return String(_.$s);case"ss":return C.s(_.$s,2,"0");case"SSS":return C.s(_.$ms,3,"0");case"Z":return M}return null}(Y)||M.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(p,_,w){var P,M=this,R=C.p(_),j=L(p),V=(j.utcOffset()-this.utcOffset())*n,G=this-j,X=function(){return C.m(M,j)};switch(R){case f:P=X()/12;break;case a:P=X();break;case h:P=X()/3;break;case l:P=(G-V)/6048e5;break;case d:P=(G-V)/864e5;break;case u:P=G/r;break;case c:P=G/n;break;case i:P=G/o;break;default:P=G}return w?P:C.a(P)},y.daysInMonth=function(){return this.endOf(a).$D},y.$locale=function(){return E[this.$L]},y.locale=function(p,_){if(!p)return this.$L;var w=this.clone(),P=k(p,_,!0);return P&&(w.$L=P),w},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},S}(),F=Z.prototype;return L.prototype=F,[["$ms",s],["$s",i],["$m",c],["$H",u],["$W",d],["$M",a],["$y",f],["$D",m]].forEach(function(S){F[S[1]]=function(y){return this.$g(y,S[0],S[1])}}),L.extend=function(S,y){return S.$i||(S(y,Z,L),S.$i=!0),L},L.locale=k,L.isDayjs=g,L.unix=function(S){return L(1e3*S)},L.en=E[N],L.Ls=E,L.p={},L})})(Lt);var To=Lt.exports;const De=Mt(To);var $t={exports:{}};(function(e,t){(function(o,n){e.exports=n()})(Pt,function(){var o,n,r=1e3,s=6e4,i=36e5,c=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,l=2628e6,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:d,months:l,days:c,hours:i,minutes:s,seconds:r,milliseconds:1,weeks:6048e5},f=function(E){return E instanceof ee},m=function(E,v,g){return new ee(E,g,v.$l)},b=function(E){return n.p(E)+"s"},$=function(E){return E<0},O=function(E){return $(E)?Math.ceil(E):Math.floor(E)},I=function(E){return Math.abs(E)},x=function(E,v){return E?$(E)?{negative:!0,format:""+I(E)+v}:{negative:!1,format:""+E+v}:{negative:!1,format:""}},ee=function(){function E(g,k,L){var C=this;if(this.$d={},this.$l=L,g===void 0&&(this.$ms=0,this.parseFromMilliseconds()),k)return m(g*h[b(k)],this);if(typeof g=="number")return this.$ms=g,this.parseFromMilliseconds(),this;if(typeof g=="object")return Object.keys(g).forEach(function(S){C.$d[b(S)]=g[S]}),this.calMilliseconds(),this;if(typeof g=="string"){var Z=g.match(a);if(Z){var F=Z.slice(2).map(function(S){return S!=null?Number(S):0});return this.$d.years=F[0],this.$d.months=F[1],this.$d.weeks=F[2],this.$d.days=F[3],this.$d.hours=F[4],this.$d.minutes=F[5],this.$d.seconds=F[6],this.calMilliseconds(),this}}return this}var v=E.prototype;return v.calMilliseconds=function(){var g=this;this.$ms=Object.keys(this.$d).reduce(function(k,L){return k+(g.$d[L]||0)*h[L]},0)},v.parseFromMilliseconds=function(){var g=this.$ms;this.$d.years=O(g/d),g%=d,this.$d.months=O(g/l),g%=l,this.$d.days=O(g/c),g%=c,this.$d.hours=O(g/i),g%=i,this.$d.minutes=O(g/s),g%=s,this.$d.seconds=O(g/r),g%=r,this.$d.milliseconds=g},v.toISOString=function(){var g=x(this.$d.years,"Y"),k=x(this.$d.months,"M"),L=+this.$d.days||0;this.$d.weeks&&(L+=7*this.$d.weeks);var C=x(L,"D"),Z=x(this.$d.hours,"H"),F=x(this.$d.minutes,"M"),S=this.$d.seconds||0;this.$d.milliseconds&&(S+=this.$d.milliseconds/1e3,S=Math.round(1e3*S)/1e3);var y=x(S,"S"),p=g.negative||k.negative||C.negative||Z.negative||F.negative||y.negative,_=Z.format||F.format||y.format?"T":"",w=(p?"-":"")+"P"+g.format+k.format+C.format+_+Z.format+F.format+y.format;return w==="P"||w==="-P"?"P0D":w},v.toJSON=function(){return this.toISOString()},v.format=function(g){var k=g||"YYYY-MM-DDTHH:mm:ss",L={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return k.replace(u,function(C,Z){return Z||String(L[C])})},v.as=function(g){return this.$ms/h[b(g)]},v.get=function(g){var k=this.$ms,L=b(g);return L==="milliseconds"?k%=1e3:k=L==="weeks"?O(k/h[L]):this.$d[L],k||0},v.add=function(g,k,L){var C;return C=k?g*h[b(k)]:f(g)?g.$ms:m(g,this).$ms,m(this.$ms+C*(L?-1:1),this)},v.subtract=function(g,k){return this.add(g,k,!0)},v.locale=function(g){var k=this.clone();return k.$l=g,k},v.clone=function(){return m(this.$ms,this)},v.humanize=function(g){return o().add(this.$ms,"ms").locale(this.$l).fromNow(!g)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},E}(),N=function(E,v,g){return E.add(v.years()*g,"y").add(v.months()*g,"M").add(v.days()*g,"d").add(v.hours()*g,"h").add(v.minutes()*g,"m").add(v.seconds()*g,"s").add(v.milliseconds()*g,"ms")};return function(E,v,g){o=g,n=g().$utils(),g.duration=function(C,Z){var F=g.locale();return m(C,{$l:F},Z)},g.isDuration=f;var k=v.prototype.add,L=v.prototype.subtract;v.prototype.add=function(C,Z){return f(C)?N(this,C,1):k.bind(this)(C,Z)},v.prototype.subtract=function(C,Z){return f(C)?N(this,C,-1):L.bind(this)(C,Z)}}})})($t);var jo=$t.exports;const xo=Mt(jo);De.extend(xo);function Bo(e){var r,s;if(typeof e=="number")return e;const t=/^(?<number>[\d.]+)(?<unit>[a-z]+)$/i.exec(e),o=((r=t==null?void 0:t.groups)==null?void 0:r.number)??0,n=(s=t==null?void 0:t.groups)==null?void 0:s.unit;return De.duration(Number(o),n).asMilliseconds()}function It(e,t){return De(e).format(t??"YYYY-MM-DD HH:mm:ss")}function Zo(){const[e]=[Date.now(),new Date().valueOf(),Number(new Date)].filter(t=>typeof t=="number");if(typeof e!="number")throw new Error("Date.now() is not a number");return e}function Vo(e,t){const o=typeof e=="string"?Bo(e):e;return t?new Promise(n=>{const r=setTimeout(n,o);t.addEventListener("abort",()=>{clearTimeout(r),n()})}):new Promise(n=>{setTimeout(n,o)})}function kt(e){return new Promise(t=>{const o=e(n=>{o(),t(n)})})}function Dt(e){return typeof e=="object"&&e!==null}function Uo(e){return e===void 0}function zt(e){return(...t)=>t.filter(o=>!Uo(o)).map(o=>o.toString()).reduce((o,n)=>(o=o.replace(new RegExp(`${e}*$`),""),n=n.replace(new RegExp(`^${e}*`),""),o===""?n:n===""?o:`${o}${e}${n}`),"")}function Nt(e){return e.replace(/^./,t=>t.toUpperCase())}function Xe(e){return e.replace(/^./,t=>t.toLowerCase())}const Wo=zt("/"),te=(...e)=>Wo(...e.filter(t=>!!t));var Qe={VITE_BUILD_NUMBER:"5382",VITE_LIVESDK_VERSION:"3.8.2.5382",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const et=new Map,ze=e=>{const t=et.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([o,n])=>[o,n.getState()])):{}},Fo=(e,t,o)=>{if(e===void 0)return{type:"untracked",connection:t.connect(o)};const n=et.get(o.name);if(n)return{type:"tracked",store:e,...n};const r={connection:t.connect(o),stores:{}};return et.set(o.name,r),{type:"tracked",store:e,...r}},Rt=(e,t={})=>(o,n,r)=>{const{enabled:s,anonymousActionType:i,store:c,...u}=t;let d;try{d=(s??(Qe?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(Qe?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(o,n,r);const{connection:l,...a}=Fo(c,d,u);let h=!0;r.setState=(b,$,O)=>{const I=o(b,$);if(!h)return I;const x=O===void 0?{type:i||"anonymous"}:typeof O=="string"?{type:O}:O;return c===void 0?(l==null||l.send(x,n()),I):(l==null||l.send({...x,type:`${c}/${x.type}`},{...ze(u.name),[c]:r.getState()}),I)};const f=(...b)=>{const $=h;h=!1,o(...b),h=$},m=e(r.setState,n,r);if(a.type==="untracked"?l==null||l.init(m):(a.stores[a.store]=r,l==null||l.init(Object.fromEntries(Object.entries(a.stores).map(([b,$])=>[b,b===a.store?m:$.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let b=!1;const $=r.dispatch;r.dispatch=(...O)=>{(Qe?"production":void 0)!=="production"&&O[0].type==="__setState"&&!b&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),b=!0),$(...O)}}return l.subscribe(b=>{var $;switch(b.type){case"ACTION":if(typeof b.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return tt(b.payload,O=>{if(O.type==="__setState"){if(c===void 0){f(O.state);return}Object.keys(O.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const I=O.state[c];if(I==null)return;JSON.stringify(r.getState())!==JSON.stringify(I)&&f(I);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(O)});case"DISPATCH":switch(b.payload.type){case"RESET":return f(m),c===void 0?l==null?void 0:l.init(r.getState()):l==null?void 0:l.init(ze(u.name));case"COMMIT":if(c===void 0){l==null||l.init(r.getState());return}return l==null?void 0:l.init(ze(u.name));case"ROLLBACK":return tt(b.state,O=>{if(c===void 0){f(O),l==null||l.init(r.getState());return}f(O[c]),l==null||l.init(ze(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return tt(b.state,O=>{if(c===void 0){f(O);return}JSON.stringify(r.getState())!==JSON.stringify(O[c])&&f(O[c])});case"IMPORT_STATE":{const{nextLiftedState:O}=b.payload,I=($=O.computedStates.slice(-1)[0])==null?void 0:$.state;if(!I)return;f(c===void 0?I:I[c]),l==null||l.send(null,O);return}case"PAUSE_RECORDING":return h=!h}return}}),m},tt=(e,t)=>{let o;try{o=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}o!==void 0&&t(o)},Go=e=>(t,o,n)=>{const r=n.subscribe;return n.subscribe=(i,c,u)=>{let d=i;if(c){const l=(u==null?void 0:u.equalityFn)||Object.is;let a=i(n.getState());d=h=>{const f=i(h);if(!l(a,f)){const m=a;c(a=f,m)}},u!=null&&u.fireImmediately&&c(a,a)}return r(d)},e(t,o,n)};var Ho={VITE_BUILD_NUMBER:"5382",VITE_LIVESDK_VERSION:"3.8.2.5382",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const At=e=>{let t;const o=new Set,n=(l,a)=>{const h=typeof l=="function"?l(t):l;if(!Object.is(h,t)){const f=t;t=a??(typeof h!="object"||h===null)?h:Object.assign({},t,h),o.forEach(m=>m(t,f))}},r=()=>t,u={setState:n,getState:r,getInitialState:()=>d,subscribe:l=>(o.add(l),()=>o.delete(l)),destroy:()=>{(Ho?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},d=t=e(n,r,u);return u},Tt=e=>e?At(e):At;function ot(e,t=new WeakMap){if(e===null||typeof e!="object")return e;if(t.has(e))return t.get(e);let o;if(Array.isArray(e))o=Array.from(e),t.set(e,o),o=o.map(n=>ot(n,t));else if(Object.prototype.toString.call(e)==="[object Object]"){o=Object.create(Object.getPrototypeOf(e)),t.set(e,o);const n=Object.getOwnPropertyDescriptors(e);Object.keys(n).forEach(r=>{const s=n[r];s.get||s.set?Object.defineProperty(o,r,s):o[r]=ot(e[r],t)})}else o=e;return o}function jt(e,...t){return t.forEach(o=>{Object.keys(o).forEach(n=>{const r=Object.getOwnPropertyDescriptor(o,n);r!=null&&r.get||r!=null&&r.set?Object.defineProperty(e,n,r):Reflect.set(e,n,o[n])})}),e}function Yo(e,...t){return t.forEach(o=>{Object.keys(o).forEach(n=>{const r=Object.getOwnPropertyDescriptor(o,n);r?Object.defineProperty(e,n,r):Reflect.set(e,n,o[n])})}),e}const xt=e=>(t,o,n)=>(n.setState=(r,s)=>{if(typeof o()!="object"||o()===null)return t(r,!0);const i=ot(o());let c=i;return typeof r=="function"?r(i):c=s?r:jt(i,r),t(c,!0)},e(n.setState,o,n));function Ko({timeout:e,onTimeout:t,onNameDuplicate:o,onMultipleProvide:n}={}){const r={};function s(a,h){return Dt(a)?jt({},a,...h.map(f=>f.value)):Object.assign({value:a},...h)}function i(a){r[a]||(r[a]=qo()),Object.keys(r).filter(f=>f===a).length>1&&(o==null||o(a))}function c(a,h){i(a),r[a].value!==null&&(n==null||n(a)),r[a].value=h,r[a].store.setState(s(h,r[a].overrides))}function u(a,h){i(a);const f={value:h},m=r[a];return m.overrides.push(f),m.value!==null&&m.store.setState(s(m.value,m.overrides)),()=>{m.overrides=m.overrides.filter(b=>b!==f),m.store.setState(s(m.value,m.overrides))}}async function d(a,h){i(a);const f=r[a];if(f.value!==null){if(h){h(l(a));return}return l(a)}if(h){kt(f.store.subscribe).then(()=>h(l(a)));return}const m=new AbortController;return e&&t&&Vo(e,m.signal).then(()=>t(a)),await kt(f.store.subscribe).then(()=>{m.abort()}),l(a)}function l(a){const h=r[a];return h?Dt(h.value)?h.store.getState():h.store.getState().value:null}return{get:l,inject:d,provide:c,override:u}}function qo(){return{store:Tt(xt(Rt(()=>({})))),value:null,overrides:[]}}async function Jo(e,t){return await new Promise(o=>{const n=()=>{e()?o(t==null?void 0:t()):requestAnimationFrame(n)};n()})}function Xo(e){try{return new URL(`https://${e}`).hostname===e}catch{return!1}}function Qo(e){return e==="https://zoom.us"||e==="https://zoom.com"?!0:Xo(e)?/^(zoom\.us|zoom\.com)$/.test(e)||/\.(zoom\.us|zoom\.com)$/.test(e):!1}function en(e,t=!1){try{const o=Qo(e);return t?o:o&&window.location.hostname!==e}catch{return!1}}async function tn(){return Jo(()=>!!document.body,()=>document.body)}function on(e){let t=!1;const o=new Map,n=c=>{const u=c.toString();if(!o.has(u)){if(t)throw new Error(`Hook "${e}" is disposed`);return o.set(u,c),()=>{o.delete(u)}}},r=()=>{t=!0,o.clear()},s=c=>new Promise(u=>{if(t)throw new Error(`Hook "${e}" is disposed`);const d=[...o.values()];Promise.all(d.map(l=>l(c))).then(()=>u())}),i=Nt(e);return{[e]:s,[`on${i}`]:n,[`dispose${i}`]:r}}function nn(e){let t=Xe(e);return/^on[A-Z]/.test(e)&&(t=Xe(e.slice(2))),/^dispose[A-Z]/.test(e)&&(t=Xe(e.slice(7))),t}class rn{constructor(){this._hooks={},this.hooks=new Proxy(this._hooks,{get:(t,o,n)=>{if(typeof o!="string")return Reflect.get(t,o,n);const r=nn(o);return t[r]||this.define(r),t[r][o]}})}define(t){Array.isArray(t)?t.forEach(o=>{this.defineSingle(o)}):this.defineSingle(t)}defineSingle(t){if(this._hooks[t])return;const o=on(t);this._hooks[t]=o}dispose(t){const o=this._hooks[t];o&&(o[`dispose${Nt(t)}`](),delete this._hooks[t])}disposeAll(){Object.keys(this._hooks).forEach(t=>{this.dispose(t)})}get hook(){return this.hooks}get trigger(){return this.hooks}}class Bt{constructor(t){this.id=t}get name(){return this.id.name}get category(){return this.id.category}impl(t,o){const n=t;return n.id=this.id,Reflect.defineProperty(n,"name",{value:n.name||this.name,writable:!1}),Reflect.defineProperty(n,"dependencies",{value:o??[]}),n}}const Zt=Symbol.for("PLUGIFY_STORE"),sn=Symbol.for("PLUGIFY_DYNAMIC_LOAD"),ue=e=>{const[t,o]=e.split("/");return new Bt({name:o,category:t||"?"})},an=ue("PlugifyBuiltin/DependencyInjectionPlugin").impl(e=>{const{logger:t}=e();return{serviceContainer:Ko({timeout:"10s",onTimeout(n){t.warn(`${n.description} may not be registered!`)},onMultipleProvide(n){t.warn(`${n.description} is already registered!`)},onNameDuplicate(n){t.warn(`Multiple serive with same name: ${n.description}!`)}})}}),cn=e=>t=>{const{hook:o}=e;t==null||t(o)},ln=e=>ue("PlugifyBuiltin/HookPlugin").impl(t=>{const{logger:o}=t(),n=new rn,{disposed:r}=n.trigger,{onCreated:s,onDisposed:i}=n.hook;e==null||e.forEach(u=>cn(n)(u));const c=()=>{r(),n.disposeAll()};return s(()=>{o.info("Created"),window.addEventListener("unload",c)}),i(()=>{o.info("Disposed")}),{onCreated:s,onDisposed:i,dispose:c,get hookManager(){return n}}}),Ne=Symbol.for("LIVESDK_GLOBAL_ENV");window[Ne]||(window[Ne]={});function Vt(e){Yo(window[Ne],e)}function Ut(e){return Vt(e),[()=>window[Ne],n=>{const r={};n(r),Vt(r)}]}const[Re,un]=Ut({});window.location.search.includes("enableLivesdkLog")&&un(e=>{e.COMMON_ENABLE_LOG=!0});const Wt=zt("/"),dn=ue("PlugifyBuiltin/LoggerPlugin");function nt(e,t){const o=(n,r,...s)=>{const i={app:e,level:n,message:r,timestamp:De().valueOf(),data:s};t(i)};return{info:(n,...r)=>o("info",n,...r),warn:(n,...r)=>o("warn",n,...r),error:(n,...r)=>o("error",n,...r),task:(n,r)=>(o("info",`${n}...`),r.then(()=>{o("info",`${n}...done ✅`)}).catch(s=>{o("error",`${n}...failed ❌`,s)}),r)}}const rt=e=>{const t=Re().COMMON_LOG_HANDLER;if(t)try{t(e)}catch(o){console.error(o)}else(e.level==="error"||Re().COMMON_ENABLE_LOG)&&yn(e)},fn={...nt("LivesdkGlobal",rt),create:e=>nt(Wt("LivesdkGlobal",e),rt)},hn=(e,t)=>dn.impl(()=>{const o=new Set,n=s=>nt(Wt(e,s??""),i=>{for(const c of o)c(i)}),r=s=>(o.add(s),()=>{o.delete(s)});return t&&r(t),{getLogger:n,useLogger:r}}),Ae=/Chrome/.test(navigator.userAgent),Ft=e=>Ae?`\x1B[90m${e}\x1B[39m`:e,gn=e=>Ae?`\x1B[32m${e}\x1B[39m`:e,pn=e=>Ae?`\x1B[33m${e}\x1B[39m`:e,mn=e=>Ae?`\x1B[31m${e}\x1B[39m`:e;function wn(e,t,o){let n;switch(e){case"info":n=gn;break;case"warn":n=pn;break;case"error":n=mn;break;case"debug":n=Ft;break;default:n=s=>s}const r=o?`__${o}`:"";return`${n(`[${e.toUpperCase()}${r}]`)} ${Ft(It(t,"YYYY-MM-DD HH:mm:ss.SSS"))} -`}function yn(e){console.log(wn(e.level,e.timestamp,e.app),e.message,...e.data)}const vn=ue("PlugifyBuiltin/MetaPlugin"),bn=e=>vn.impl(()=>{const{name:t,instanceId:o,debug:n,data:r={}}=e;return{get $meta(){return{instanceId:o,name:t,debug:n??!1,data:r}}}},[]);function Sn(e,{name:t,debug:o,instanceId:n,hooks:r}={}){const s=Tt(Go(Rt(xt(()=>({}))))),i=[hn(t,rt),bn({instanceId:n,name:t}),an,ln(r??[]),...e],c=new Set;let u=!1;const d=f=>{const m=Ht(f),b=new Map(m.filter(I=>typeof I=="function").map(I=>[I.id,I]));let $=new Set;const O=I=>{$.add(I)};for(const I of m){if(c.has(I.id))continue;let x=N=>()=>{const E=s.getState();return new Proxy(E,{get(v,g){return g==="logger"?E.getLogger(N.name):g==="$pluginName"?N.name:Reflect.get(v,g)}})};const ee=o?N=>{typeof N=="function"?s.setState(E=>{const v=new Proxy(E,{get(g,k){return Reflect.get(g,k)},set(g,k,L){return console.trace("plugify set:",k,"=",L),Reflect.set(g,k,L)}});N(v)}):(Object.keys(N).forEach(E=>{console.trace("plugify set:",E,"=",N[E])}),s.setState(N))}:s.setState;if(u&&(x=N=>()=>{const E=s.getState();return new Proxy(E,{get(v,g){return g==="logger"?E.getLogger(N.name):g==="onCreated"?O:Reflect.get(v,g)}})}),_n(I)){const N=b.get(I.id);if(N){const E=N(x(I),ee,s);E&&s.setState(E)}else throw new Error(`❌ Implementation for ${I.id.name} not found`)}else if(Gt(I)){const N=I(x(I),ee,s);N&&s.setState(N)}c.add(I.id)}u&&($.forEach(I=>I()),$=new Set)};d(i),u=!0;const{hookManager:l,getLogger:a}=s.getState();l.trigger.created({logger:a(`${t}mixin`)});const h={};return Object.keys(s.getState()).forEach(f=>{const m=Reflect.getOwnPropertyDescriptor(s.getState(),f);m!=null&&m.set?Reflect.defineProperty(h,f,m):Reflect.defineProperty(h,f,{get(){return s.getState()[f]},enumerable:!0})}),Reflect.defineProperty(h,Zt,{value:s,writable:!1}),Reflect.defineProperty(h,sn,{value:d,writable:!1}),s.subscribe(f=>{Object.keys(f).forEach(b=>{Reflect.has(h,b)||Reflect.defineProperty(h,b,{get(){return s.getState()[b]}})})}),h}function Gt(e){return typeof e=="function"}function _n(e){return e instanceof Bt}function Ht(e){const t=new WeakSet;return e.map(o=>{if(t.has(o))return[];t.add(o);const n=Reflect.get(o,"dependencies");return Gt(o)&&(n==null?void 0:n.length)>0?[...Ht(n),o]:o}).flat()}function Cn(...e){const[t,o,n]=e,r=Reflect.get(t,Zt);if(!r)throw new Error("plugify.subscribe() can only be used with minxins");return n?r.subscribe(o,n):r.subscribe(o)}Reflect.defineProperty(ue,"mixin",{value:Sn,writable:!1}),Reflect.defineProperty(ue,"subscribe",{value:Cn,writable:!1});const Te=ue,me={dev:{CCIZP:"https://ccizp.zoomdev.us/",CCIZPAPI:"https://ccizpapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"http://localhost:3000",CAMPAIGN:"https://devcampaign.zoomdev.us/",ZVA:"https://devapizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB:"https://zcb.zoomdev.us/static/resource/cci/"},devb:{CCIZP:"https://dev01cci.zoomdev.us/",CCIZPAPI:"https://dev01cciapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://dev01campaign.zoomdev.us/",ZVA:"https://dev01apizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB:"https://zcb.zoomdev.us/static/resource/cci/"},devcolo:{CCIZP:"https://devcoloccizp.zoomdev.us/",CCIZPAPI:"https://devcoloccizpapi.zoomdev.us/",ZPNS:"wss://hf01zpns.zoomdev.us/ws",WEB_ENDPOINT:"https://devcolo.zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://devcolocampaign.zoomdev.us/",ZVA:"https://devcoloapizva.zoomdev.us/",CDN:"https://devoci-cdn-cci.zoomdev.us/n/idkx1lfgxgf7/b/dev-zcx/o/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB:"https://dev-zcb.zoomdev.us/static/resource/cci/"},qa:{CCIZP:"https://qa01ccizp.zoomdev.us/",CCIZPAPI:"https://qa01ccizpapi.zoomdev.us/",ZPNS:"wss://zpns.zoomdev.us/ws",WEB_ENDPOINT:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://qa01campaign.zoomdev.us/",ZVA:"https://qa01apizva.zoomdev.us/",CDN:"https://devccistatic.zoomdev.us/web-sdk/",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB:"https://dev-zcb.zoomdev.us/static/resource/cci/"},go:{CCIZP:"https://gocci.zoom.us/",CCIZPAPI:"https://gocciapi.zoom.us/",ZPNS:"wss://gozpns.zoom.us/ws",WEB_ENDPOINT:"go.zoom.us",SCHEDULER:"scheduler.asynccommgo.zoom.us",CAMPAIGN:"https://gocampaign.zoom.us/",ZVA:"https://goapizva.zoom.us/",CDN:"https://goccistatic.zoom.us/gocci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog",ZCB:"https://go-zcb.zoom.us/static/resource/cci/"},eu01:{CCIZP:"https://eu01cci.zoom.us/",CCIZPAPI:"https://eu01cciapi.zoom.us/",ZPNS:"wss://zpns.zoom.us/ws",WEB_ENDPOINT:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://eu01campaign.zoom.us/",ZVA:"https://eu01apizva.zoom.us/",CDN:"https://eu01ccistatic.zoom.us/eu01cci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog",ZCB:"https://go-zcb.zoom.us/static/resource/cci/"},us01:{CCIZP:"https://us01cci.zoom.us/",CCIZPAPI:"https://us01cciapi.zoom.us/",ZPNS:"wss://zpns.zoom.us/ws",WEB_ENDPOINT:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://us01campaign.zoom.us/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://us01ccistatic.zoom.us/us01cci/web-sdk/",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog",ZCB:"https://us01-zcb.zoom.us/static/resource/cci/"},govdev:{CCIZP:"https://cci.zoomgovdev.com/",CCIZPAPI:"https://cciapi.zoomgovdev.com/",ZPNS:"wss://zpns.zoomgovdev.com/ws",WEB_ENDPOINT:"zoomgovdev.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgovdev.com/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://ccistatic.zoomgovdev.com/web-sdk/",ZCB:"https://us01-zcb.zoom.us/static/resource/cci/"},gov:{CCIZP:"https://cci.zoomgov.com/",CCIZPAPI:"https://cciapi.zoomgov.com/",ZPNS:"wss://zpns.zoomgov.com/ws",WEB_ENDPOINT:"zoomgov.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgov.com/",ZVA:"https://us01apizva.zoom.us/",CDN:"https://ccistatic.zoomgov.com/web-sdk/",ZCB:"https://us01-zcb.zoom.us/static/resource/cci/"}},En=Object.fromEntries(Object.entries(me).map(([e,t])=>[e,t.CAMPAIGN]));function Yt(e){return Object.keys(me).includes(e??"")?e:"us01"}const On=Object.fromEntries(Object.entries(me).map(([e,t])=>[e,t.ZVA])),Kt=new URLSearchParams(window.location.search).get("__zcc_version__")||"5382",Pn=Symbol.for("__ZCC_LIVESDK_CDN_ENV__"),qt=Re().COMMON_CDN_ENV,Jt=Re().COMMON_CUSTOM_CDN,je=Object.fromEntries(Object.entries(me).map(([e,t])=>[e,t.CDN])),ie=Jt?Object.fromEntries(Object.keys(je).map(e=>[e,Jt])):qt?Object.fromEntries(Object.keys(je).map(e=>[e,je[qt]])):je;function Mn(e="us01"){const{CCIZP:t,CCIZPAPI:o,ZPNS:n,WEB_ENDPOINT:r}=me[e],s=Object.entries({CCIZP:t,CCIZPAPI:o,ZPNS:n,WEB_ENDPOINT:r}).map(([i,c])=>[i.toLowerCase(),c]);return Object.fromEntries(s)}const Ln="__livesdk__header__data__";function $n(){try{return JSON.parse(localStorage.getItem(Ln)??"")}catch{return{}}}function In(){const e=$n(),t={};return e!=null&&e.aid&&(t["X-Zm-Aid"]=e.aid),e!=null&&e.haid&&(t["X-Zm-Haid"]=e.haid),e!=null&&e.clusterId&&(t["X-Zm-Client-Cluster-Id"]=e.clusterId),t}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xt=Symbol("Comlink.proxy"),kn=Symbol("Comlink.endpoint"),Dn=Symbol("Comlink.releaseProxy"),st=Symbol("Comlink.finalizer"),xe=Symbol("Comlink.thrown"),Qt=e=>typeof e=="object"&&e!==null||typeof e=="function",zn={canHandle:e=>Qt(e)&&e[Xt],serialize(e){const{port1:t,port2:o}=new MessageChannel;return to(e,t),[o,[o]]},deserialize(e){return e.start(),no(e)}},Nn={canHandle:e=>Qt(e)&&xe in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},eo=new Map([["proxy",zn],["throw",Nn]]);function Rn(e,t){for(const o of e)if(t===o||o==="*"||o instanceof RegExp&&o.test(t))return!0;return!1}function to(e,t=globalThis,o=["*"]){t.addEventListener("message",function n(r){if(!r||!r.data)return;if(!Rn(o,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:s,type:i,path:c}=Object.assign({path:[]},r.data),u=(r.data.argumentList||[]).map(de);let d;try{const l=""+c;if(l.includes("__proto__")||l.includes("constructor")||l.includes("prototype"))throw new Error("Invalid path");const a=c.slice(0,-1).reduce((f,m)=>f[m],e),h=c.reduce((f,m)=>f[m],e);switch(i){case"GET":d=h;break;case"SET":a[c.slice(-1)[0]]=de(r.data.value),d=!0;break;case"APPLY":d=h.apply(a,u);break;case"CONSTRUCT":{const f=new h(...u);d=Zn(f)}break;case"ENDPOINT":{const{port1:f,port2:m}=new MessageChannel;to(e,m),d=Bn(f,[f])}break;case"RELEASE":d=void 0;break;default:return}}catch(l){d={value:l,[xe]:0}}Promise.resolve(d).catch(l=>({value:l,[xe]:0})).then(l=>{const[a,h]=Ue(l);t.postMessage(Object.assign(Object.assign({},a),{id:s}),h),i==="RELEASE"&&(t.removeEventListener("message",n),oo(t),st in e&&typeof e[st]=="function"&&e[st]())}).catch(l=>{const[a,h]=Ue({value:new TypeError("Unserializable return value"),[xe]:0});t.postMessage(Object.assign(Object.assign({},a),{id:s}),h)})}),t.start&&t.start()}function An(e){return e.constructor.name==="MessagePort"}function oo(e){An(e)&&e.close()}function no(e,t){return it(e,[],t)}function Be(e){if(e)throw new Error("Proxy has been released and is not useable")}function ro(e){return we(e,{type:"RELEASE"}).then(()=>{oo(e)})}const Ze=new WeakMap,Ve="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(Ze.get(e)||0)-1;Ze.set(e,t),t===0&&ro(e)});function Tn(e,t){const o=(Ze.get(t)||0)+1;Ze.set(t,o),Ve&&Ve.register(e,t,e)}function jn(e){Ve&&Ve.unregister(e)}function it(e,t=[],o=function(){}){let n=!1;const r=new Proxy(o,{get(s,i){if(Be(n),i===Dn)return()=>{jn(r),ro(e),n=!0};if(i==="then"){if(t.length===0)return{then:()=>r};const c=we(e,{type:"GET",path:t.map(u=>u.toString())}).then(de);return c.then.bind(c)}return it(e,[...t,i])},set(s,i,c){Be(n);const[u,d]=Ue(c);return we(e,{type:"SET",path:[...t,i].map(l=>l.toString()),value:u},d).then(de)},apply(s,i,c){Be(n);const u=t[t.length-1];if(u===kn)return we(e,{type:"ENDPOINT"}).then(de);if(u==="bind")return it(e,t.slice(0,-1));const[d,l]=so(c);return we(e,{type:"APPLY",path:t.map(a=>a.toString()),argumentList:d},l).then(de)},construct(s,i){Be(n);const[c,u]=so(i);return we(e,{type:"CONSTRUCT",path:t.map(d=>d.toString()),argumentList:c},u).then(de)}});return Tn(r,e),r}function xn(e){return Array.prototype.concat.apply([],e)}function so(e){const t=e.map(Ue);return[t.map(o=>o[0]),xn(t.map(o=>o[1]))]}const io=new WeakMap;function Bn(e,t){return io.set(e,t),e}function Zn(e){return Object.assign(e,{[Xt]:!0})}function Vn(e,t=globalThis,o="*"){return{postMessage:(n,r)=>e.postMessage(n,o,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Ue(e){for(const[t,o]of eo)if(o.canHandle(e)){const[n,r]=o.serialize(e);return[{type:"HANDLER",name:t,value:n},r]}return[{type:"RAW",value:e},io.get(e)||[]]}function de(e){switch(e.type){case"HANDLER":return eo.get(e.name).deserialize(e.value);case"RAW":return e.value}}function we(e,t,o){return new Promise(n=>{const r=Un();e.addEventListener("message",function s(i){!i.data||!i.data.id||i.data.id!==r||(e.removeEventListener("message",s),n(i.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:r},t),o)})}function Un(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let Wn=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,o)=>(o&=63,o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o>62?t+="-":t+="_",t),"");const ao=Symbol.for("livesdk_tid"),fe=Symbol.for("livesdk_is_timeout"),We=Symbol.for("livesdk_iframe_store"),Fn=(e,t)=>{try{const o={};if(performance&&performance.getEntriesByName){const r=performance.getEntriesByType("resource").find(s=>s.name===e);if(r){o.xhrDnsTime=(r==null?void 0:r.domainLookupEnd)-(r==null?void 0:r.domainLookupStart),o.xhrTcpTime=(r==null?void 0:r.connectEnd)-(r==null?void 0:r.connectStart),o.xhrQueueTimeChrome=(r==null?void 0:r.requestStart)-(r==null?void 0:r.fetchStart);const s=new Date().getTime()-t;o.xhrQueueTimeSafari=s-(r==null?void 0:r.duration),o.xhrNetworkTime=(r==null?void 0:r.responseStart)-(r==null?void 0:r.requestStart),o.xhrDonwloadTime=(r==null?void 0:r.responseEnd)-(r==null?void 0:r.responseStart),o.message=r==null?void 0:r.toJSON()}}return o}catch{return{}}};function Gn(e){try{return new URL(e).hostname===window.location.hostname}catch{return!1}}const at=(e,t,o,n)=>{var r;(r=window==null?void 0:window.__ZCC__LIVECHAT__MONITOR__)==null||r.Monitor({name:o,message:{time:Fn(e,t),error:(n==null?void 0:n.message)||n}},{isErrorMsg:!0},"server")};async function Hn(e,t=Date.now()){if(!Gn(e)&&!window[We]){window[fe]||(window[fe]="null"),console.log("Init iframe start"),window[ao]=Wn();const o=await tn();window[We]=new Promise((n,r)=>{const s=document.createElement("iframe");s.src=e,s.style.display="none",s.sandbox.add("allow-scripts"),s.sandbox.add("allow-same-origin"),o.appendChild(s),s.onload=()=>{console.log("Init iframe onload"),window[fe]==="null"?window[fe]="false":window[fe]==="true"&&at(e,t,"Iframe Load Timeout: when onload, report performance"),n(s)},s.onerror=i=>{at(e,t,"Iframe Load OnError: downgrade to non-cross storage mode",i),r(i)},setTimeout(()=>{window[fe]==="null"&&(window[fe]="true",at(e,t,"Iframe Load TimeOut: when timeout, setTimeout 25s")),r()},25e3)}),await window[We]}}const Yn="zoomsdkcorsstabsync:req",co="zoomsdkcorsstabsync:res";if(!((Ao=window.ZOOM_SUPPORT_CROSS_TAB_FLAGS)!=null&&Ao.disabled)){let e;addEventListener("message",async t=>{var o;try{const n=new URL(t.origin).hostname;if(en(n)&&t.origin!==window.origin&&((o=t.data)==null?void 0:o.type)===Yn){const{key:r,namespace:s}=t.data,i=await window[We];if(!i.contentWindow){t.source.postMessage({type:co,key:r,value:null},{targetOrigin:t.origin});return}e||(e=no(Vn(i.contentWindow)));const c=await e.getItem({tid:window[ao],namespace:s,key:r});t.source.postMessage({type:co,key:r,value:c},{targetOrigin:t.origin})}}catch{}})}function Ee(e){return{name:e}}const lo=Te("Common/LoadSdkPlugin").impl(e=>{const t=new Map,o=e().logger;return{importSdk:async(r,s)=>{try{const i=t.get(r);if(!i)throw o.error(`No loader for ${r.name}`),new Error(`No loader for ${r.name}`);return o.info(`Loading ${r.name}`),await i.load(s)}catch(i){return o.error(`Failed to load ${r.name}`,i),Promise.reject(i)}},useSdkLoader(r,s){t.set(r,s)}}});function ct(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function lt(e,t,o=".",n){if(!ct(t))return lt(e,{},o,n);const r=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(n&&n(r,s,i,o)||(Array.isArray(i)&&Array.isArray(r[s])?r[s]=[...i,...r[s]]:ct(i)&&ct(r[s])?r[s]=lt(i,r[s],(o?`${o}.`:"")+s.toString(),n):r[s]=i))}return r}function Kn(e){return(...t)=>t.reduce((o,n)=>lt(o,n,"",e),{})}const qn=Kn();function Jn(e,t,o){const n=o==null?void 0:o.merge,r=Reflect.get(window,e);if(n&&r){const s=t();if(typeof s=="object"&&typeof r=="object"){const i=qn(r,s);for(const c of Object.keys(i))Reflect.set(r,c,Reflect.get(i,c))}}else r||Reflect.set(window,e,t());return Reflect.get(window,e)}function Oe(e,t,o){return Jn(`ZoomWebSDKDef__${e}`,t,o)}function D(...e){const t=[Xn(),...e];return ut(...t)}function ut(...e){const t=()=>{for(const n of e)if(typeof n=="function"){const r=n();if(r!==null)return r}else if(n instanceof uo){const r=n.read();if(r!==null)return r}else if(n!=null)return n;return null},o=n=>{for(const r of e)if(r instanceof dt){r.write(n);return}};return new dt(t,o)}function Xn(){let e=null;const t=()=>e,o=n=>{e=n};return new dt(t,o)}class uo{constructor(t){this.read=t}}class dt extends uo{constructor(t,o){super(t),this.write=o}}function U(...e){if(e.length===0)return null;let t=null;for(const o of e)if(t===null)t=o;else if(typeof t=="object"&&Reflect.has(t,o))t=Reflect.get(t,o);else return null;return t}function A(e,t,o){const r=new URL(e).searchParams.get(t);return o?o(r):r}function K(e){for(const t of e.selectors){const o=document.querySelector(t);if(o)return U(o,...e.path)}return null}const q=Symbol.for("LIVESDK_GLOBAL_ENV"),re="script[data-apikey][data-chat-entry-id]",Q='script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])',Fe='script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]';function ye(e){return e===null?null:e==="true"||e===""}const Qn=D(null,()=>A(window.location.href,"__IS_DEBUG__",ye),()=>U(window,"__ZCX_LIVESDK_DEBUG__"),()=>U(window,q,"COMMON_DEBUG"),!1);function B(e){return()=>Qn.read()?e():null}function J(...e){return U(window,"zoomCampaignSdkConfig",...e)}const z=Oe("GlobalConfigs",()=>({enableLog:D(B(()=>!0),()=>A(window.location.href,"enableLivesdkLog",ye),()=>U(window,q,"COMMON_ENABLE_LOG"),!1),enableReportChatLogOP:D(()=>localStorage.getItem("OP/LiveSDK/enableLogReport")==="true",!1),enableReportChatLogFrontEnd:D(()=>A(window.location.href,"enableReportChatLog")==="true"?!0:A(window.location.href,"enableReportChatLog")==="false"?!1:null,()=>J("enableReportChatLog")===!0?!0:J("enableReportChatLog")===!1?!1:null,null),cdnEnv:D(B(()=>A(window.location.href,"cdnEnv")),()=>U(window,q,"COMMON_CDN_ENV"),"us01"),enableZcb:D(()=>A(window.location.href,"enableZcb",ye),()=>J("enableZcb"),()=>U(window,q,"COMMON_ENABLE_ZCB"),()=>K({selectors:[re,Q,Fe],path:["dataset","enableZcb"]}),()=>K({selectors:[re,Q,Fe],path:["dataset","enableZCB"]}),!1),cdnVersion:D(B(()=>A(window.location.href,"cdnVersion")),()=>U(window,q,"COMMON_CDN_VERSION")),queryBuildNumber:D(()=>A(window.location.href,"__zcc_version__")),cdnZccVersion:D(B(()=>A(window.location.href,"cdnZccVersion")),()=>U(window,q,"COMMON_CDN_VERSION")),cdnZvaVersion:D(B(()=>A(window.location.href,"cdnZvaVersion")),()=>U(window,q,"COMMON_CDN_ZVA_VERSION")),isZvaMode:D(()=>U(window,q,"isZvaMode")),legacyLogReporter:D(()=>U(window,q,"COMMON_LOG_HANDLER")),refreshTokenWhenExpiredIn:D(B(()=>A(window.location.href,"refreshTokenWhenExpiredIn",Number)),()=>U(window,q,"COMMON_REFRESH_TOKEN_WHEN_EXPIRED_IN")),customCdn:D(B(()=>A(window.location.href,"customCdn")),()=>U(window,q,"COMMON_CUSTOM_CDN")),env:D(B(()=>A(window.location.href,"env")),()=>J("env"),()=>U(window,q,"COMMON_ENV"),()=>K({selectors:[re,Q,Fe],path:["dataset","env"]}),"us01"),getCustomerFreshToken:D(()=>U(window,"zoomCampaignSdkConfig","getFreshToken"))}),{merge:!0}),ae=Oe("GlobalChatConfigs",()=>({...z,lazyLoadCampaign:D(B(()=>A(window.location.href,"lazyLoadCampaignUrl")),()=>J("lazyLoadCampaignUrl"),()=>U(window,q,"COMMON_LAZY_LOAD_CAMPAIGN"),()=>K({selectors:[Q],path:["dataset","lazyLoadCampaignUrl"]})),productModule:D(B(()=>A(window.location.href,"productModule")),()=>K({selectors:[re],path:["dataset","productModule"]})),chatEntryId:D(B(()=>A(window.location.href,"key")),()=>K({selectors:[re,Q],path:["dataset","chatEntryId"]})),videoEntryId:D(B(()=>A(window.location.href,"key")),()=>K({selectors:[Fe,Q],path:["dataset","entryId"]})),apikey:D(B(()=>A(window.location.href,"apikey")),()=>J("apikey"),()=>K({selectors:[re,Q],path:["dataset","apikey"]})),zIndexBase:D(B(()=>A(window.location.href,"zIndexBase",Number)),()=>J("zIndexBase"),()=>K({selectors:[re,Q],path:["dataset","zIndexBase"],cast:Number})),draggableInvitation:D(B(()=>A(window.location.href,"draggableInvitation",ye)),()=>J("draggableInvitation"),()=>K({selectors:[re,Q],path:["dataset","draggableInvitation"],cast:Boolean})),windowPosition:D(B(()=>A(window.location.href,"windowPosition")),()=>J("windowPosition"),()=>K({selectors:[Q],path:["dataset","windowPosition"]})),el:D(B(()=>A(window.location.href,"el")),()=>K({selectors:[re],path:["dataset","el"]})),fullScreenId:D(()=>A(window.location.href,"fullScreenId"),()=>J("fullScreenId"),()=>K({selectors:[Q],path:["dataset","fullScreenId"]}))}));ut(B(()=>A(window.location.href,"enableSPAMode",ye)),()=>J("enableSPAMode"),!1),Oe("LiveInfoStore",()=>({engagementId:D(),chatSessionId:D(),zpnsResource:D()}));const er=Oe("LiveTrackStore",()=>({backendTraceIds:D()})),Ge=Oe("LivePerformanceStore",()=>({resourcePerf:D(),customerPerf:D()})),He=e=>{const t=e.reduce((o,n)=>({...o,...n}),{});return Object.entries(t).reduce((o,[n,r])=>({...o,[n]:r.read()}),{})};ut(B(()=>A(window.location.href,"enableWriteSupportHandoffCookie",ye)),()=>J("enableWriteSupportHandoffCookie"),()=>localStorage.getItem("zva_support_handoff:enableWriteSupportHandoffCookie")==="true",!1);const H={silent:Number.NEGATIVE_INFINITY,fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,ready:3,start:3,box:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},fo={silent:{level:-1},fatal:{level:H.fatal},error:{level:H.error},warn:{level:H.warn},log:{level:H.log},info:{level:H.info},success:{level:H.success},fail:{level:H.fail},ready:{level:H.info},start:{level:H.info},box:{level:H.info},debug:{level:H.debug},trace:{level:H.trace},verbose:{level:H.verbose}};function ft(e){return e!==null&&typeof e=="object"}function ht(e,t,o=".",n){if(!ft(t))return ht(e,{},o,n);const r=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(n&&n(r,s,i,o)||(Array.isArray(i)&&Array.isArray(r[s])?r[s]=[...i,...r[s]]:ft(i)&&ft(r[s])?r[s]=ht(i,r[s],(o?`${o}.`:"")+s.toString(),n):r[s]=i))}return r}function tr(e){return(...t)=>t.reduce((o,n)=>ht(o,n,"",e),{})}const or=tr();function nr(e){return Object.prototype.toString.call(e)==="[object Object]"}function rr(e){return!(!nr(e)||!e.message&&!e.args||e.stack)}let gt=!1;const ho=[];class W{constructor(t={}){const o=t.types||fo;this.options=or({...t,defaults:{...t.defaults},level:pt(t.level,o),reporters:[...t.reporters||[]]},{types:fo,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const n in o){const r={type:n,...this.options.defaults,...o[n]};this[n]=this._wrapLogFn(r),this[n].raw=this._wrapLogFn(r,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(t){this.options.level=pt(t,this.options.types,this.options.level)}prompt(t,o){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(t,o)}create(t){const o=new W({...this.options,...t});return this._mockFn&&o.mockTypes(this._mockFn),o}withDefaults(t){return this.create({...this.options,defaults:{...this.options.defaults,...t}})}withTag(t){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+t:t})}addReporter(t){return this.options.reporters.push(t),this}removeReporter(t){if(t){const o=this.options.reporters.indexOf(t);if(o>=0)return this.options.reporters.splice(o,1)}else this.options.reporters.splice(0);return this}setReporters(t){return this.options.reporters=Array.isArray(t)?t:[t],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const t in this.options.types)console["__"+t]||(console["__"+t]=console[t]),console[t]=this[t].raw}restoreConsole(){for(const t in this.options.types)console["__"+t]&&(console[t]=console["__"+t],delete console["__"+t])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(t,o){t&&(t.__write||(t.__write=t.write),t.write=n=>{this[o].raw(String(n).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(t){t&&t.__write&&(t.write=t.__write,delete t.__write)}pauseLogs(){gt=!0}resumeLogs(){gt=!1;const t=ho.splice(0);for(const o of t)o[0]._logFn(o[1],o[2])}mockTypes(t){const o=t||this.options.mockFn;if(this._mockFn=o,typeof o=="function")for(const n in this.options.types)this[n]=o(n,this.options.types[n])||this[n],this[n].raw=this[n]}_wrapLogFn(t,o){return(...n)=>{if(gt){ho.push([this,t,n,o]);return}return this._logFn(t,n,o)}}_logFn(t,o,n){if((t.level||0)>this.level)return!1;const r={date:new Date,args:[],...t,level:pt(t.level,this.options.types)};!n&&o.length===1&&rr(o[0])?Object.assign(r,o[0]):r.args=[...o],r.message&&(r.args.unshift(r.message),delete r.message),r.additional&&(Array.isArray(r.additional)||(r.additional=r.additional.split(`
`)),r.args.push(`
`+r.additional.join(`
`)),delete r.additional),r.type=typeof r.type=="string"?r.type.toLowerCase():"log",r.tag=typeof r.tag=="string"?r.tag:"";const s=(c=!1)=>{const u=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&u>0){const d=[...this._lastLog.object.args];u>1&&d.push(`(repeated ${u} times)`),this._log({...this._lastLog.object,args:d}),this._lastLog.count=1}c&&(this._lastLog.object=r,this._log(r))};clearTimeout(this._lastLog.timeout);const i=this._lastLog.time&&r.date?r.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=r.date,i<this.options.throttle)try{const c=JSON.stringify([r.type,r.tag,r.args]),u=this._lastLog.serialized===c;if(this._lastLog.serialized=c,u&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(s,this.options.throttle);return}}catch{}s(!0)}_log(t){for(const o of this.options.reporters)o.log(t,{options:this.options})}}function pt(e,t={},o=3){return e===void 0?o:typeof e=="number"?e:t[e]&&t[e].level!==void 0?t[e].level:o}W.prototype.add=W.prototype.addReporter,W.prototype.remove=W.prototype.removeReporter,W.prototype.clear=W.prototype.removeReporter,W.prototype.withScope=W.prototype.withTag,W.prototype.mock=W.prototype.mockTypes,W.prototype.pause=W.prototype.pauseLogs,W.prototype.resume=W.prototype.resumeLogs;function sr(e={}){return new W(e)}class ir{constructor(t){this.options={...t},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(t){return t<1?console.__error||console.error:t===1?console.__warn||console.warn:console.__log||console.log}log(t){const o=this._getLogFn(t.level),n=t.type==="log"?"":t.type,r=t.tag||"",i=`
      background: ${this.typeColorMap[t.type]||this.levelColorMap[t.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,c=`%c${[r,n].filter(Boolean).join(":")}`;typeof t.args[0]=="string"?o(`${c}%c ${t.args[0]}`,i,"",...t.args.slice(1)):o(c,i,...t.args)}}function mt(e={}){return sr({reporters:e.reporters||[new ir({})],prompt(o,n={}){return n.type==="confirm"?Promise.resolve(confirm(o)):Promise.resolve(prompt(o))},...e})}mt();const wt=10,go=(e=0)=>t=>`\x1B[${t+e}m`,po=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,mo=(e=0)=>(t,o,n)=>`\x1B[${38+e};2;${t};${o};${n}m`,T={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(T.modifier);const ar=Object.keys(T.color),cr=Object.keys(T.bgColor);[...ar,...cr];function lr(){const e=new Map;for(const[t,o]of Object.entries(T)){for(const[n,r]of Object.entries(o))T[n]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},o[n]=T[n],e.set(r[0],r[1]);Object.defineProperty(T,t,{value:o,enumerable:!1})}return Object.defineProperty(T,"codes",{value:e,enumerable:!1}),T.color.close="\x1B[39m",T.bgColor.close="\x1B[49m",T.color.ansi=go(),T.color.ansi256=po(),T.color.ansi16m=mo(),T.bgColor.ansi=go(wt),T.bgColor.ansi256=po(wt),T.bgColor.ansi16m=mo(wt),Object.defineProperties(T,{rgbToAnsi256:{value(t,o,n){return t===o&&o===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(o/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){const o=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!o)return[0,0,0];let[n]=o;n.length===3&&(n=[...n].map(s=>s+s).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:t=>T.rgbToAnsi256(...T.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let o,n,r;if(t>=232)o=((t-232)*10+8)/255,n=o,r=o;else{t-=16;const c=t%36;o=Math.floor(t/36)/5,n=Math.floor(c/6)/5,r=c%6/5}const s=Math.max(o,n,r)*2;if(s===0)return 30;let i=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(o));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,o,n)=>T.ansi256ToAnsi(T.rgbToAnsi256(t,o,n)),enumerable:!1},hexToAnsi:{value:t=>T.ansi256ToAnsi(T.hexToAnsi256(t)),enumerable:!1}}),T}const oe=lr(),Ye=(()=>{if(navigator.userAgentData){const e=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),wo=Ye!==0&&{level:Ye,hasBasic:!0,has256:Ye>=2,has16m:Ye>=3},ur={stdout:wo,stderr:wo};function dr(e,t,o){let n=e.indexOf(t);if(n===-1)return e;const r=t.length;let s=0,i="";do i+=e.slice(s,n)+t+o,s=n+r,n=e.indexOf(t,s);while(n!==-1);return i+=e.slice(s),i}function fr(e,t,o,n){let r=0,s="";do{const i=e[n-1]==="\r";s+=e.slice(r,i?n-1:n)+t+(i?`\r
`:`
`)+o,r=n+1,n=e.indexOf(`
`,r)}while(n!==-1);return s+=e.slice(r),s}const{stdout:yo,stderr:vo}=ur,yt=Symbol("GENERATOR"),ve=Symbol("STYLER"),Pe=Symbol("IS_EMPTY"),bo=["ansi","ansi","ansi256","ansi16m"],be=Object.create(null),hr=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const o=yo?yo.level:0;e.level=t.level===void 0?o:t.level},gr=e=>{const t=(...o)=>o.join(" ");return hr(t,e),Object.setPrototypeOf(t,Me.prototype),t};function Me(e){return gr(e)}Object.setPrototypeOf(Me.prototype,Function.prototype);for(const[e,t]of Object.entries(oe))be[e]={get(){const o=Ke(this,bt(t.open,t.close,this[ve]),this[Pe]);return Object.defineProperty(this,e,{value:o}),o}};be.visible={get(){const e=Ke(this,this[ve],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const vt=(e,t,o,...n)=>e==="rgb"?t==="ansi16m"?oe[o].ansi16m(...n):t==="ansi256"?oe[o].ansi256(oe.rgbToAnsi256(...n)):oe[o].ansi(oe.rgbToAnsi(...n)):e==="hex"?vt("rgb",t,o,...oe.hexToRgb(...n)):oe[o][e](...n),pr=["rgb","hex","ansi256"];for(const e of pr){be[e]={get(){const{level:o}=this;return function(...n){const r=bt(vt(e,bo[o],"color",...n),oe.color.close,this[ve]);return Ke(this,r,this[Pe])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);be[t]={get(){const{level:o}=this;return function(...n){const r=bt(vt(e,bo[o],"bgColor",...n),oe.bgColor.close,this[ve]);return Ke(this,r,this[Pe])}}}}const mr=Object.defineProperties(()=>{},{...be,level:{enumerable:!0,get(){return this[yt].level},set(e){this[yt].level=e}}}),bt=(e,t,o)=>{let n,r;return o===void 0?(n=e,r=t):(n=o.openAll+e,r=t+o.closeAll),{open:e,close:t,openAll:n,closeAll:r,parent:o}},Ke=(e,t,o)=>{const n=(...r)=>wr(n,r.length===1?""+r[0]:r.join(" "));return Object.setPrototypeOf(n,mr),n[yt]=e,n[ve]=t,n[Pe]=o,n},wr=(e,t)=>{if(e.level<=0||!t)return e[Pe]?"":t;let o=e[ve];if(o===void 0)return t;const{openAll:n,closeAll:r}=o;if(t.includes("\x1B"))for(;o!==void 0;)t=dr(t,o.close,o.open),o=o.parent;const s=t.indexOf(`
`);return s!==-1&&(t=fr(t,r,n,s)),n+t+r};Object.defineProperties(Me.prototype,be);const yr=Me();Me({level:vo?vo.level:0});const So=yr;function vr(e,t){return t={exports:{}},e(t,t.exports),t.exports}vr(function(e,t){(function(o){var n;if(e.exports=o(),n=!0,!n){var r=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=r,s}}})(function(){function o(){for(var s=0,i={};s<arguments.length;s++){var c=arguments[s];for(var u in c)i[u]=c[u]}return i}function n(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(s){function i(){}function c(d,l,a){if(!(typeof document>"u")){a=o({path:"/"},i.defaults,a),typeof a.expires=="number"&&(a.expires=new Date(new Date*1+a.expires*864e5)),a.expires=a.expires?a.expires.toUTCString():"";try{var h=JSON.stringify(l);/^[\{\[]/.test(h)&&(l=h)}catch{}l=s.write?s.write(l,d):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var m in a)a[m]&&(f+="; "+m,a[m]!==!0&&(f+="="+a[m].split(";")[0]));return document.cookie=d+"="+l+f}}function u(d,l){if(!(typeof document>"u")){for(var a={},h=document.cookie?document.cookie.split("; "):[],f=0;f<h.length;f++){var m=h[f].split("="),b=m.slice(1).join("=");!l&&b.charAt(0)==='"'&&(b=b.slice(1,-1));try{var $=n(m[0]);if(b=(s.read||s)(b,$)||n(b),l)try{b=JSON.parse(b)}catch{}if(a[$]=b,d===$)break}catch{}}return d?a[d]:a}}return i.set=c,i.get=function(d){return u(d,!1)},i.getJSON=function(d){return u(d,!0)},i.remove=function(d,l){c(d,"",o(l,{expires:-1}))},i.defaults={},i.withConverter=r,i}return r(function(){})})});var _o;(function(e){e[e.GlobalError=0]="GlobalError",e[e.UnhandledRejection=1]="UnhandledRejection",e[e.CdnDetectError=2]="CdnDetectError"})(_o||(_o={}));var Co;(function(e){e.Error="error",e.Performance="performance",e.cdnDetect="cdn"})(Co||(Co={}));var Eo;(function(e){e[e.fcp=0]="fcp",e[e.fid=1]="fid",e[e.lcp=2]="lcp",e[e.cls=3]="cls",e[e.tbt=4]="tbt"})(Eo||(Eo={}));let Oo=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,o)=>(o&=63,o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o>62?t+="-":t+="_",t),"");function Po(){const e=navigator.userAgent,t=e.includes("Macintosh")&&navigator.maxTouchPoints>1,o=e.includes("iPad")||e.includes("Macintosh")&&"ontouchend"in document;return t||o}function br(){var e;try{const t=navigator.userAgent,o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t),n=Po(),r=/Android.*(wv|.0.0.0)/i.test(t)||/Version\/[\d.]+.*Chrome\/[.0-9]* Mobile/i.test(t),s=/wv2/i.test(t)||/Edge\/\d+/i.test(t)&&!/Chrome/i.test(t),i=function(){var d;return!!(navigator.platform==="MacIntel"&&((d=window==null?void 0:window.webkit)!=null&&d.messageHandlers))}(),c=(e=window.navigator)==null?void 0:e.standalone,u=window.matchMedia("(display-mode: standalone)").matches;return o||i&&n?"iOS WebView":r?"Android WebView":s?"Windows WebView2":i&&!n?"macOS WebView":c||u?"PWA":"Browser"}catch{return"N/A"}}const Sr=br();function _r(e){var n,r,s,i,c,u;let t="Unknown",o="";return/android/i.test(e)?(t="Android",o=((n=e.match(/Android\s([0-9\.]+)/i))==null?void 0:n[1])||""):/iPad|iPhone|iPod/.test(e)&&!(window!=null&&window.MSStream)||Po()?(t="iOS",o=((s=(r=e.match(/OS\s([0-9_]+)/i))==null?void 0:r[1])==null?void 0:s.replace(/_/g,"."))||""):/Macintosh|MacIntel|MacPPC|Mac68K/.test(e)?(t="Mac",o=((c=(i=e.match(/Mac OS X\s([0-9_]+)/i))==null?void 0:i[1])==null?void 0:c.replace(/_/g,"."))||""):/Win32|Win64|Windows|WinCE/.test(e)?(t="Windows",o=((u=e.match(/Windows NT\s([0-9\.]+)/i))==null?void 0:u[1])||""):/Linux/.test(e)&&(t="Linux",o=""),{os:t,version:o}}function Cr(e){var n,r,s,i,c,u;let t="Unknown",o="";return/MSIE|Trident/.test(e)?(t="Internet Explorer",o=((n=e.match(/(MSIE\s|rv:)([0-9\.]+)/))==null?void 0:n[2])||""):/Edg/.test(e)?(t="Microsoft Edge",o=((r=e.match(/Edg\/([0-9\.]+)/))==null?void 0:r[1])||""):/Chrome/.test(e)&&!/Edg/.test(e)&&!/OPR/.test(e)?(t="Chrome",o=((s=e.match(/Chrome\/([0-9\.]+)/))==null?void 0:s[1])||""):/Safari/.test(e)&&!/Chrome/.test(e)?(t="Safari",o=((i=e.match(/Version\/([0-9\.]+)/))==null?void 0:i[1])||""):/Firefox/.test(e)?(t="Firefox",o=((c=e.match(/Firefox\/([0-9\.]+)/))==null?void 0:c[1])||""):/OPR/.test(e)&&(t="Opera",o=((u=e.match(/OPR\/([0-9\.]+)/))==null?void 0:u[1])||""),{browser:t,version:o}}const Er=()=>{const e=["/websdk/version","/live-sdk-version/fast","/history/timestamp/engagement","/engagement/participants","/customer/incoming"],t=["/chat-client.js","/chat-client-zva-v2.js","/chat-client-zcc-v2.js","/web-campaign.js"],o={};return performance.getEntriesByType("resource").forEach(r=>{[...t,...e].forEach(s=>{new RegExp(s).test(r.name)&&(o[r.name]||(o[s]={duration:Math.floor(r.duration),initiatorType:r==null?void 0:r.initiatorType}))})}),o},Or=e=>{const t=Ge.customerPerf.read()||{};t[e]||Ge.customerPerf.write({...t,[e]:Zo()})},Mo=navigator.userAgent,{os:Pr,version:Mr}=_r(Mo),{browser:Lr,version:$r}=Cr(Mo),St={userOS:Pr,userOSVersion:Mr,userBrowser:Lr,userBrowserVersion:$r,webViewEnv:Sr},ne="logs",Ir=30*24*60*60*1e3;function Os(){}function _t(){return(void 0).catch(()=>void 0)}function kr(e){_t().then(t=>{const n=t.transaction([ne],"readwrite").objectStore(ne),r={message:e,timestamp:new Date().toISOString(),expiry:Date.now()+Ir};n.add(r)}).catch(console.error)}function Dr(){_t().then(e=>{const o=e.transaction([ne],"readwrite").objectStore(ne),n=o.index("expiry"),r=Date.now();n.openCursor(IDBKeyRange.upperBound(r)).onsuccess=function(s){const i=s.target.result;i&&(o.delete(i.primaryKey),i.continue())}}).catch(console.error)}function Lo(){Do()&&_t().then(e=>{const n=e.transaction([ne],"readonly").objectStore(ne).getAll();n.onsuccess=function(r){const s=r.target.result;s.length>0&&s.forEach(i=>{ko(i.message),e.transaction([ne],"readwrite").objectStore(ne).delete(i.id)})}}).catch(console.error)}function zr(){(void 0).then(e=>{const n=e.transaction([ne],"readonly").objectStore(ne).getAll();n.onsuccess=function(r){const s=r.target.result;console.log("Current logs:",s)},n.onerror=function(r){var s;console.error(`Failed to retrieve logs: ${(s=r.target.error)==null?void 0:s.message}`)}}).catch(console.error)}function Nr(){const e="enableZcxWebSdkDetailLog",t=new URLSearchParams(window.location.search);t.has(e)&&t.get(e)==="true"&&Lo()}const Le="__ZCC__LIVECHAT__MONITOR__",qe="__ZCC__MONITOR__CONTEXT__ID__",Rr="ZCC",Ar="ZVA",Tr="WebSDKLiveChat",jr={type:"normal",lazy:!0,isError:!1},xr=()=>{const e="__ZCC__LIVECHAT__MONITOR__SessionId__";let t=sessionStorage.getItem(e);return t||(t=Oo(),sessionStorage.setItem(e,t)),t},Br=()=>z.isZvaMode?Ar:Rr,$o=()=>(window[qe]||(window[qe]=Oo()),window[qe]),Ct=e=>{const t=()=>({chatEntryId:null,videoEntryId:null});return{cm:{detail:{moduleType:Br(),zccContent:{module:Tr,contextId:$o(),browserSessionId:xr(),timestamp:Date.now(),timestampCN:new Date().toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}),...e,...t()}}}}},Zr=()=>navigator.onLine,Et=[],Vr=e=>{Et.push(e)},Io=()=>{Et.length=0},Ur=()=>[...Et],Wr=e=>{const n=(i=>{const c=new URLSearchParams;for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&c.append(u,i[u]);return c.toString()})({type:"performance",path:"/",performance:e}),r=new Blob([n],{type:"application/x-www-form-urlencoded"}),s=me[z.env.read()||"us01"].LOG;s&&(navigator==null||navigator.sendBeacon(s,r))},Fr=e=>Ct({...He([ae]),...St,...e}),Gr=e=>Ct({...He([er]),...St,...e}),Hr=e=>{var o,n;return Ct({...(()=>{const r=performance.timing;return{navigationStart:r.navigationStart,DOMContentLoaded:r.domContentLoadedEventEnd,browserLoaded:r.loadEventEnd}})(),...(o=He([Ge]))==null?void 0:o.resourcePerf,...(n=He([Ge]))==null?void 0:n.customerPerf,...Er(),...St,...e})},Ot=e=>{Wr(e)},Yr=(e,t,o)=>{const n={...jr,...t};let r={};switch(n.type){case"normal":r=Fr(e);break;case"track":r=Gr(e);break;case"performance":r=Hr(e);break}o==="local"&&(r.storeFrom="fromIndexedDB");try{return JSON.stringify(r)}catch{return""}},Kr=e=>{Ot(e)},ko=e=>{window[Le].__Monitor__(e)},$e={reportToLocal:e=>{kr(e)},reportToService:(e,t=!0)=>{const o=n=>{window.requestIdleCallback&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{Ot(n)}):Ot(n)};if(t){const n=Ur();n.length>0&&(n.forEach(r=>ko(r)),Io())}o(e)},reportToQueue:e=>{Vr(e)}},qr=(e,t,o)=>{const n=Yr(e,t,o);if(z.enableReportChatLogFrontEnd.read()!==!1){if(o==="server"){if(!Zr()){$e.reportToQueue(n);return}t.isErrorMsg?$e.reportToService(n,!1):z.enableReportChatLogOP.read()===!0||z.enableReportChatLogFrontEnd.read()===!0?$e.reportToService(n,!0):$e.reportToQueue(n);return}o==="local"&&$e.reportToLocal(n)}},se={report:(e,t={type:"normal",lazy:!0})=>{try{window[Le].Monitor(e,t,"server")}catch{}},reportLocal:(e,t={type:"normal",lazy:!0})=>{try{window[Le].Monitor(e,t,"local")}catch{}}},Jr=()=>{window.addEventListener("beforeunload",()=>{se.report({name:"Performance Report"},{type:"performance",lazy:!1}),se.report({name:"Track Report"},{type:"track",lazy:!1}),z.enableReportChatLogOP.read()===!1&&Io()})},Xr=()=>{window.addEventListener("online",()=>{se.report({name:"Network State: online"})}),window.addEventListener("offline",()=>{se.report({name:"Network State: offline"})})},Do=()=>!!window[Le],Qr=()=>{window[Le]={Monitor:qr,__Monitor__:Kr,CONTEXT_ID:$o(),ReportDetailLogs:Lo,ViewAllLocalLogs:zr}},es=()=>{try{Do()||(Qr(),Jr(),Xr(),Dr(),Nr())}catch{}},he=mt({level:H.verbose}),ts={log(e){switch(e.type){case"info":case"success":case"error":case"warn":case"debug":case"start":{if(e.type==="debug"&&!z.enableLog.read())return;const o={info:he.info,success:he.success,error:he.error,warn:he.warn,debug:he.debug,start:he.start}[e.type],n=So.gray(It(e.date.valueOf(),"YY/MM/DD HH:mm:ss.SSS Z")),r=So.bold.blueBright(`[@ZCC_${e.tag||"GLOBAL"}]`);o(`${r} ${n}:`,...e.args);break}case"trace":{he.trace(e.args);break}}}},zo=mt({level:H.verbose,reporters:[ts]});function os(e){let t=zo;return e!=null&&e.name&&(t=t.withTag(e.name)),e!=null&&e.consolaOptions&&(t=t.create(e.consolaOptions)),t}const[Ls,ns]=Ut({}),ce=os({name:"Loader"}),rs=()=>ae.chatEntryId.read()?ae.chatEntryId.read():ae.videoEntryId.read()?ae.videoEntryId.read():ae.apikey.read(),ss=()=>`&sdkVersion=${Kt}&zrZak=${(window==null?void 0:window.iniZak)??""}`;async function is(e,t){var s,i,c,u,d,l;if((s=z==null?void 0:z.cdnZccVersion)!=null&&s.read()){ce.debug(`Found version in cache: ${z.cdnZccVersion.read()}`);return}const o={};t&&(o.apikey=t);const n=te(En[e],`v1/live-sdk-version/fast?${new URLSearchParams(o)}`),r=te(Mn(e).ccizpapi,`v1/livesdk/info?apikey=${rs()??""}${ss()}`);try{const a=await fetch(n).then(f=>f.json());if((i=a==null?void 0:a.result)!=null&&i.liveSDKPath&&typeof a.result.liveSDKPath=="string"?((c=z==null?void 0:z.cdnZccVersion)==null||c.write(a.result.liveSDKPath),ce.debug(`WebSDK ZCC version: ${a.result.liveSDKPath}`)):ce.debug(`No version found in response: ${JSON.stringify(a)}`),((u=a==null?void 0:a.result)==null?void 0:u.enableZCCLiveSDKGrayscale)===!0){const f=await fetch(r,{headers:In()}).then(m=>m.json());(d=f==null?void 0:f.result)!=null&&d.sdkVersion&&typeof f.result.sdkVersion=="string"&&((l=z==null?void 0:z.cdnZccVersion)==null||l.write(f.result.sdkVersion))}}catch(a){ce.warn("Failed to get version",a)}}async function as(e,t){if(z.cdnZvaVersion.read()){ce.debug(`Found version in cache: ${z.cdnZvaVersion.read()}`);return}const o=`${On[e]}v1/websdk/version`;try{const n=await fetch(o,{method:"GET",headers:{"X-Zm-apiKey":t}}).then(r=>r.json());n!=null&&n.result?(ns(r=>{r.COMMON_CDN_ZVA_VERSION=n==null?void 0:n.result}),z.cdnZvaVersion.write(n==null?void 0:n.result),ce.debug(`WebSDK ZVA version: ${n==null?void 0:n.result}`)):ce.debug(`No version found in response: ${JSON.stringify(n)}`)}catch(n){ce.warn("Failed to get version",n)}}const Se=zo.withTag("LOADER"),cs=Ee("WebVideo"),ls=Ee("VideoSdk"),us=Ee("ZccSdk"),ds=Ee("ZvaSdk"),fs=Ee("WebCampaign"),_e={WebVideo:cs,VideoSdk:ls,ZccSdk:us,ZvaSdk:ds,WebCampaign:fs};function hs(){try{return!!(window.define&&window.define.amd)}catch{return!1}}const gs=Te("Common/ZccSdkPlugin").impl(e=>{const{useSdkLoader:t,hookManager:o}=e();return t(_e.WebVideo,{async load({env:n,version:r,entryId:s,apikey:i,draggableInvitation:c}){const u=async d=>{const l=new URL(te(ie[n],d,hs()?"video-share-v2.es.js":"video-share-v2.js"));return n&&l.searchParams.set("env",n),s&&l.searchParams.set("entryId",s),i&&l.searchParams.set("apikey",i),c&&l.searchParams.set("draggableInvitation",c),Se.debug(`Loading web video sdk from ${l}`,{env:n}),await import(l.href)};try{return await u(r)}catch{return await u()}}}),t(_e.VideoSdk,{async load({env:n,version:r,entryId:s,apikey:i,draggableInvitation:c,cdnEnv:u}){const d=async l=>{const a=new URL(te(ie[u||n],l,"video-client-v2.js"));return n&&a.searchParams.set("env",n),s&&a.searchParams.set("entryId",s),i&&a.searchParams.set("apikey",i),c&&a.searchParams.set("draggableInvitation",c),Se.debug(`Loading video sdk from ${a}`,{env:n}),await import(a.href)};try{return await d(r)}catch(l){return console.log("load video error",l),await d()}}}),t(_e.ZccSdk,{async load({draggableInvitation:n,windowPosition:r,zIndexBase:s,skipInit:i,version:c,entryId:u,apikey:d,mode:l,env:a,el:h}){const f=async(m,b=!0)=>{const $=new URL(te(ie[a],m,"chat-client-zcc-v2.js"));a&&$.searchParams.set("env",a),u&&$.searchParams.set("entryId",u),d&&$.searchParams.set("apikey",d),s&&$.searchParams.set("zIndexBase",s),h&&$.searchParams.set("selector",h),n&&$.searchParams.set("draggableInvitation",n),r&&$.searchParams.set("windowPosition",r),l&&$.searchParams.set("mode",l),i&&$.searchParams.set("skipInit","true"),Se.debug(`Loading chat sdk from ${$}`,{env:a});try{return await import($.href)}catch(O){if(se.report({name:"WebSDK CDN failed: load",message:O==null?void 0:O.message},{isErrorMsg:!0}),b)return await f(void 0,!1)}};return await f(c)}}),t(_e.ZvaSdk,{async load({draggableInvitation:n,windowPosition:r,zIndexBase:s,skipInit:i,version:c,entryId:u,apikey:d,mode:l,env:a,el:h}){const f=new URL(te(ie[a],c,"chat-client-zva-v2.js"));a&&f.searchParams.set("env",a),u&&f.searchParams.set("entryId",u),d&&f.searchParams.set("apikey",d),s&&f.searchParams.set("zIndexBase",s),h&&f.searchParams.set("selector",h),n&&f.searchParams.set("draggableInvitation",n),r&&f.searchParams.set("windowPosition",r),l&&f.searchParams.set("mode",l),i&&f.searchParams.set("skipInit","true"),Se.debug(`Loading chat sdk from ${f}`,{env:a}),f.searchParams.set("zva","true");try{return await import(f.href)}catch(m){throw se.report({name:"WebSDK CDN failed: load",message:m==null?void 0:m.message},{isErrorMsg:!0}),m}}}),t(_e.WebCampaign,{async load({draggableInvitation:n,windowPosition:r,lazyLoadCampaignUrl:s,zIndexBase:i,version:c,entryId:u,apikey:d,env:l,fullScreenId:a}){const h=new URL(te(ie[l],c,"web-campaign.js"));l&&h.searchParams.set("env",l),d&&h.searchParams.set("apikey",d),i&&h.searchParams.set("zIndexBase",i),u&&h.searchParams.set("entryId",u),n&&h.searchParams.set("draggableInvitation",n),r&&h.searchParams.set("windowPosition",r),s&&h.searchParams.set("lazyLoadCampaignUrl",s),a&&h.searchParams.set("fullScreenId",a),Se.debug(`Loading web campaign sdk from ${h}`,{env:l});try{return await import(h.href)}catch(f){throw se.report({name:"WebSDK CDN failed: load",message:f==null?void 0:f.message},{isErrorMsg:!0}),f}}}),o.trigger.useLoader({useSdkLoader:t,logger:e().logger}),{async loadZccSdk(n,{v1:r=!1,env:s="us01",cdnEnv:i,version:c,...u}={}){var f,m;const d=n==="ZvaSdk";let l;try{l=new URLSearchParams(window.location.search).get("__zcc_version__")}catch(b){Se.error("Failed to get test version",b)}n!=="WebCampaign"&&(d?await as(s,u.entryId?u.entryId:u.apikey):await is(s,u.apikey));const a=(f=z==null?void 0:z.cdnZccVersion)==null?void 0:f.read(),h=(m=z==null?void 0:z.cdnZvaVersion)==null?void 0:m.read();c||((s==="dev"||s==="qa")&&(c=Kt),n!=="WebCampaign"&&(!d&&a&&(c=a),d&&h&&(c=h)),l&&(c=l));try{const b=new URL(te(ie[s],c,"cross-storage.html"));await Hn(b.href)}catch{}return window[Pn]=i||s,e().importSdk(_e[n],{v1:r,env:s,version:c,...u})}}},[lo]),ps=Te("Utils/DiscoverSdkPlugin").impl(e=>{const{loadZccSdk:t,logger:o}=e(),n=u=>{var d;if(u==="zva"){const l=document.querySelector('script[data-apikey][data-chat-entry-id][data-product-module="zva"]');if(l){const{dataset:a}=l;return a}}else if(u==="chat"){const l=document.querySelector('script[data-apikey][data-chat-entry-id]:not([data-product-module="zva"])');if(l){const{dataset:a}=l;return a}}else{if((d=window.zoomCampaignSdkConfig)!=null&&d.apikey)return{apikey:window.zoomCampaignSdkConfig.apikey,env:window.zoomCampaignSdkConfig.env};const l=document.querySelector('script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])');if(l){const{dataset:a}=l;return a}}return null},r=()=>{const u=document.querySelector('script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]');if(u){const{dataset:d}=u;return d}return null},s=u=>{switch(u){case"chat":case"zva":case"campaign":return n(u);case"video":return r();default:return null}},i=async()=>{["chat","zva","campaign"].forEach(async u=>{const d=No(s(u));if(d){o.info(`${u} sdk  discovered`);const l=Yt(d.get("env"))||"us01",a=d.get("chatEntryId"),h=d.get("productModule"),f=d.get("apikey"),m=d.get("zIndexBase"),b=d.get("draggableInvitation"),$=d.get("windowPosition"),O=d.get("el"),I=d.get("lazyLoadCampaignUrl"),x=d.get("fullScreenId")||"",ee={env:l,entryId:a,apikey:f,zIndexBase:m,draggableInvitation:b,windowPosition:$,lazyLoadCampaignUrl:I,fullScreenId:x,zva:h==="zva"},N=ee.zva?"ZvaSdk":"ZccSdk";a&&f?t(N,{...ee,el:O}):t("WebCampaign",{...ee})}})},c=async()=>{const u=No(s("video"));if(u){o.info("video sdk  discovered");const d=Yt(u.get("env"))||"us01",l=u.get("entryId"),a=u.get("apikey"),h=u.get("lazyLoadCampaignUrl"),f=u.get("draggableInvitation");t("VideoSdk",{env:d,entryId:l,apikey:a,draggableInvitation:f,lazyLoadCampaignUrl:h})}};return{discoverSdk:s,discover(){i(),c()}}},[gs]);function No(e){if(e){const t=new Map;return Object.keys(e).forEach(o=>{t.set(o,e[o])}),t}return null}const Ro=z.env.read()||"us01",ms=()=>ae.apikey.read()&&!ae.chatEntryId.read(),ws=async()=>{var r;if(!ms()||(r=z==null?void 0:z.queryBuildNumber)!=null&&r.read())return;window!=null&&window.__WebSDK_Preload__||(window.__WebSDK_Preload__={});const e=new URL(te(ie[Ro],"chat-client-zcc-v2.js")),t=new URL(te(ie[Ro],"chat-client-zva-v2.js")),o=import(e.href).then(s=>{window.__WebSDK_Preload__.zccCreateChat=s.createChat,window.__WebSDK_Preload__.cdnZccVersion=s.cdnVersion}),n=import(t.href).then(s=>{window.__WebSDK_Preload__.zvaCreateChat=s.createChat,window.__WebSDK_Preload__.cdnZvaVersion=s.cdnVersion});Promise.all([o,n]).catch(s=>{se.report({name:"WebSDK CDN failed: preload",message:s==null?void 0:s.message},{isErrorMsg:!0})})};es(),Or("webSDKLoaderReady"),fn.create("SdkLoader").info("Loaded");const ys=[lo,ps];Te.mixin(ys,{name:"SdkLoader"}).discover(),ws(),se.report({name:"Loader start"})})();
